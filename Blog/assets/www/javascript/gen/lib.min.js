(function(){if(window.MWF!=null){return}window.MWF={O:{},R:[],F:function(){return false}};MWF.P=function(_namespace){if(!_namespace||!_namespace.length){return null}var _package=window;for(var a=_namespace.split("."),l=a.length,i=(a[0]=="window")?1:0;i<l;_package=_package[a[i]]=_package[a[i]]||{},i++){}return _package};MWF.C=(function(){var _isNotFunction=function(){return !mwf.u._$isFunction(arguments[0])};return function(){var _class=function(){return this.__init.apply(this,arguments)};_class.prototype.__init=MWF.F;_class._$extend=function(_super,_static){if(!mwf.u._$isFunction(_super)){return}if(!!_static){MWF.X(this,_super,_isNotFunction)}this._$super=_super;this._$supro=_super.prototype;var _parent=function(){};_parent.prototype=_super.prototype;this.prototype=new _parent();this.prototype.constructor=this;this.prototype.__init=function(){this.__super.apply(this,arguments)};var _parent=_super;this.prototype.__super=function(){var _init=_parent.prototype.__init;_parent=_parent._$super||_super;return !!_init&&_init.apply(this,arguments)};return this.prototype};return _class}})();MWF.X=function(_object,_config,_filter){if(!_object||!_config){return}_filter=_filter||MWF.F;for(var x in _config){if(!_filter(_config[x])){_object[x]=_config[x]}}};MWF.EX=function(_object,_config){if(!_object||!_config){return}for(var x in _object){if(_config[x]!=null){_object[x]=_config[x]}}};Function.prototype._$bind=function(){var _args=arguments,_object=arguments[0],_function=this;return function(){var _argc=MWF.R.slice.call(_args,1);MWF.R.push.apply(_argc,arguments);return _function.apply(_object||window,_argc)}};Function.prototype._$bind2=function(){var _args=arguments,_object=MWF.R.shift.call(_args),_function=this;return function(){MWF.R.push.apply(arguments,_args);return _function.apply(_object||window,arguments)}}})();(function(g){var _time=new Date().getTime();g.WINDOW_ID=""+_time;g.DOCUMENT_ID=""+(_time+1000);g.BLANK_IMAGE="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(MWF.P("mwf.g"));(function(p){var __platform=window.navigator.platform,__useragent=window.navigator.userAgent;p._$IS_MAC=/mac/i.test(__platform);p._$IS_LINUX=/linux/i.test(__platform);p._$IS_WINDOWS=/win/i.test(__platform);p._$IS_IPOD=/ipod/i.test(__platform);p._$IS_IPAD=/ipad/i.test(__useragent);p._$IS_IPHONE=/iphone/i.test(__platform);p._$IS_IOS=p._$IS_IPOD||p._$IS_IPAD||p._$IS_IPHONE;p._$IS_ANDROID=/android/i.test(__useragent);p._$IS_BLACKBERRY=/blackberry/i.test(__useragent);p._$IS_DESKTOP=p._$IS_MAC||p._$IS_WINDOWS||(p._$IS_LINUX&&!p._$IS_ANDROID);p._$IS_TABLET=p._$IS_IPAD;p._$IS_PHONE=!p._$IS_DESKTOP&&!p._$IS_TABLET;p._$SUPPORT_TOUCH=("ontouchstart" in window)&&(!p._$IS_DESKTOP);p._$SUPPORT_CSS3D=!!window.WebKitCSSMatrix&&(new WebKitCSSMatrix().hasOwnProperty("m41"))})(MWF.P("mwf.p"));(function(o,f,u){var __remap={a:{r:/\<|\>|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":""},b:{r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"},c:{i:true,r:/\byyyy|yy|MM|M|dd|d|HH|H|mm|ms|ss|m|s\b/g}};var __isType=function(_data,_type){_type=_type.toLowerCase();if(_data===null){return _type=="null"}if(_data===undefined){return _type=="undefined"}return o.toString.call(_data).toLowerCase()=="[object "+_type+"]"};u._$isFunction=function(_data){return __isType(_data,"function")};u._$isString=function(_data){return __isType(_data,"string")};u._$isNumber=function(_data){return __isType(_data,"number")};u._$isBoolean=function(_data){return __isType(_data,"boolean")};u._$isDate=function(_data){return __isType(_data,"date")};u._$isArray=function(_data){return __isType(_data,"array")};u._$isObject=function(_data){return __isType(_data,"object")};u._$indexOf=function(_list,_item){var _isfunc=u._$isFunction(_item);if(!!_list&&_list.length>0){for(var i=0,l=_list.length;i<l;i++){if(_isfunc?!!_item(_list[i]):_list[i]==_item){return i}}}return -1};u._$encode=function(_map,_content){if(!_map||!_content||!_content.replace){return _content||""}return _content.replace(_map.r,function($1){var _result=_map[!_map.i?$1.toLowerCase():$1];return _result!=null?_result:$1})};u._$escape=function(_content){return u._$encode(__remap.a,_content)};u._$unescape=function(_content){return u._$encode(__remap.b,_content)};u._$format=(function(){var _fmtnmb=function(_number){_number=parseInt(_number)||0;return(_number<10?"0":"")+_number};return function(_time,_format){if(!_time||!_format){return""}if(u._$isString(_time)){_time=new Date(Date.parse(_time))}if(!u._$isDate(_time)){_time=new Date(_time)}var _map=__remap.c;_map.yyyy=_time.getFullYear();_map.yy=(""+_map.yyyy).substr(2);_map.M=_time.getMonth()+1;_map.MM=_fmtnmb(_map.M);_map.d=_time.getDate();_map.dd=_fmtnmb(_map.d);_map.H=_time.getHours();_map.HH=_fmtnmb(_map.H);_map.m=_time.getMinutes();_map.mm=_fmtnmb(_map.m);_map.s=_time.getSeconds();_map.ss=_fmtnmb(_map.s);_map.ms=_time.getMilliseconds();return u._$encode(_map,_format)}})();u._$dom2xml=function(_dom){return new XMLSerializer().serializeToString(_dom)||""};u._$xml2dom=function(_xml){var _root=new DOMParser().parseFromString(_xml,"text/xml").documentElement;return _root.nodeName=="parsererror"?null:_root};u._$xml2object=(function(){var _parse=function(_obj,_dom){var _element=_dom.firstElementChild;if(!_element){_obj[_dom.tagName]=_dom.textContent||"";return}var _tmp={};while(_element){_parse(_tmp,_element);_element=_element.nextElementSibling}_obj[_dom.tagName]=_tmp};return function(_xml){try{var _obj={};_parse(_obj,u._$xml2dom(_xml));return _obj}catch(e){return null}}})();u._$string2object=function(_string,_split){_string=_string||"";var _obj={},_arr=_string.split(_split);if(!!_arr&&_arr.length>0){for(var i=0,l=_arr.length,_brr,_key;i<l;i++){_brr=_arr[i].split("=");if(!_brr||!_brr.length){continue}_key=_brr.shift();if(!_key){continue}_obj[_key]=_brr.join("=")}}return _obj};u._$query2object=function(_query){return u._$string2object(_query,"&")};u._$randString=(function(){var _chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(_length){_length=_length||10;var _result=[];for(var i=0,_rnum;i<_length;++i){_rnum=Math.floor(Math.random()*_chars.length);_result.push(_chars.charAt(_rnum))}return _result.join("")}})();u._$randNumberString=function(_length){_length=Math.max(0,Math.min(_length||8,30));var _min=Math.pow(10,_length-1),_max=_min*10;return(Math.floor(Math.random()*(_max-_min)+_min)).toString()}})(MWF.O,MWF.F,MWF.P("mwf.u"));(function(f,e,v,u,t,b,p){var __proEventHelper,__proTouchEventHelper;p._$$EventHelper=MWF.C();__proEventHelper=p._$$EventHelper.prototype;p._$$EventHelper._$getInstance=function(){if(!this.__instance){this.__instance=new this()}return this.__instance};__proEventHelper.__init=function(){this.__cache={}};__proEventHelper.__cacheEvent=function(_element,_type,_event,_capture){var _id=e._$id(_element),_cache=this.__cache[_id],_object={f:_event,c:_capture};if(!_cache){_cache={};this.__cache[_id]=_cache}if(!_cache[_type]){_cache[_type]=[]}_cache[_type].push(_object)};__proEventHelper.__addEvent=function(_element,_type,_event,_capture){_element.addEventListener(_type,_event,_capture)};__proEventHelper._$addEvent=function(_element,_type,_event,_capture){_element=e._$get(_element);if(!_element||!_type||!u._$isFunction(_event)){return}_capture=!!_capture;this.__cacheEvent(_element,_type,_event,_capture);this.__addEvent(_element,_type,_event,_capture)};__proEventHelper.__delEvent=function(_element,_type,_event,_capture){_element.removeEventListener(_type,_event,_capture)};__proEventHelper._$clearEvent=function(_element,_type){_element=e._$get(_element);if(!_element){return}var _cache=this.__cache[_element.id];if(!_cache){return}if(!!_type){var _events=_cache[_type];if(!_events){return}var _object;while(_events.length){_object=_events.pop();this.__delEvent(_element,_type,_object.f,_object.c)}delete _cache[_type];return}for(var x in _cache){v._$clearEvent(_element,x)}};p._$$TouchEventHelper=MWF.C();__proTouchEventHelper=p._$$TouchEventHelper._$extend(p._$$EventHelper,true);__proTouchEventHelper.__init=(function(){var _touch=["touchstart","touchmove","touchend","touchcancel"],_mouse=["mousedown","mousemove","mouseup"];return function(){this.__super();this.__touch_type={};this.__touch_impl={};var _events=t._$SUPPORT_TOUCH?_touch:_mouse;for(var i=0,l=_events.length;i<l;i++){document.addEventListener(_events[i],this.__onTouchEvent._$bind(this,"on"+_touch[i]),false)}}})();__proTouchEventHelper._$regist=function(_type,_class){var _instance=_class._$getInstance();if(!(_instance instanceof b._$$Gesture)){return}var _events=_instance._$getSupportedEvent()||[_type];for(var i=0,l=_events.length;i<l;i++){this.__touch_type[_events[i].toLowerCase()]=_type}this.__touch_impl[_type]=_instance};__proTouchEventHelper._$isTouchEvent=function(_type){return !!this.__touch_type[(_type||"").toLowerCase()]};__proTouchEventHelper.__addEvent=function(_element,_type,_event,_capture){_type=(_type||"").toLowerCase();var _instance=this.__touch_impl[this.__touch_type[_type]];if(!!_instance){_instance._$addEventListener(_element,_type,_event,_capture)}};__proTouchEventHelper.__delEvent=function(_element,_type,_event,_capture){_type=(_type||"").toLowerCase();var _instance=this.__touch_impl[this.__touch_type[_type]];if(!!_instance){_instance._$removeEventListener(_element,_type,_event,_capture)}};__proTouchEventHelper.__onTouchEvent=function(_type,_event){var _targets=[],_target=v._$getElement(_event);while(!!_target){if(!!this.__cache[_target.id]){_targets.unshift(_target)}_target=_target.parentNode}var _options={e:_event,t:_targets};for(var x in this.__touch_impl){this.__touch_impl[x]._$dispatchEvent(_type,_options)}}})(MWF.F,MWF.P("mwf.e"),MWF.P("mwf.v"),MWF.P("mwf.u"),MWF.P("mwf.p"),MWF.P("mwf.mb"),MWF.P("mwf.ut"));(function(e,u,v,t){v._$addEvent=function(_element,_type,_event,_capture){var _helper=t._$$TouchEventHelper._$getInstance();_helper._$isTouchEvent(_type)?_helper._$addEvent(_element,_type,_event,_capture):t._$$EventHelper._$getInstance()._$addEvent(_element,_type,_event,_capture)};v._$clearEvent=function(_element,_type){t._$$EventHelper._$getInstance()._$clearEvent(_element,_type);t._$$TouchEventHelper._$getInstance()._$clearEvent(_element,_type)};v._$getElement=function(_event){if(!_event){return null}var _element=_event.target;if(!arguments[1]||!u._$isFunction(arguments[1])){return _element}while(_element){if(!!arguments[1](_element)){return _element}_element=_element.parentNode}return null};v._$stop=function(_event){v._$stopBubble(_event);v._$stopDefault(_event)};v._$stopBubble=function(_event){if(!!_event){_event.stopPropagation()}};v._$stopDefault=function(_event){if(!!_event){_event.preventDefault()}}})(MWF.P("mwf.e"),MWF.P("mwf.u"),MWF.P("mwf.v"),MWF.P("mwf.ut"));(function(r,o,f,g,e,u,v){var __cache=document.createDocumentFragment();e._$id=function(_element){_element=e._$get(_element);if(!_element){return}var _id;if(!!_element.id){_id=_element.id}else{if(_element==window){_id=g.WINDOW_ID}else{if(_element==document){_id=g.DOCUMENT_ID}else{_id="auto-id-"+u._$randString(4)}}}_element.id=_id;return _id};e._$get=function(_element){if(_element==g.WINDOW_ID){return window}if(_element==g.DOCUMENT_ID){return document}if(!u._$isString(_element)&&!u._$isNumber(_element)){return _element}return document.getElementById(_element)};e._$getChildren=function(_element){_element=e._$get(_element);if(!_element){return null}if(!!_element.children){return _element.children}var _list=[],_nodes=_element.childNodes;for(var i=0,l=_nodes.length;i<l;i++){if(_nodes[i].nodeType==1){_list.push(_nodes[i])}}return _list};e._$getByClassName=function(_element,_class){_element=e._$get(_element);if(!_element){return null}var _list=_element.getElementsByClassName(_class);return !!_list&&_list.length>0?r.slice.call(_list,0):null};e._$create=(function(){var _map={a:{href:"#",hideFocus:true},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0,src:"about:blank"},script:{defer:true,type:"text/javascript"}};return function(_tag,_class,_parent){var _element=document.createElement(_tag);MWF.X(_element,_map[_tag.toLowerCase()]);if(!!_class){_element.className=_class}_parent=e._$get(_parent);if(!!_parent){_parent.appendChild(_element)}return _element}})();e._$remove=function(_element,_nocls){_element=e._$get(_element);if(!_element||!_element.parentNode){return}if(!_nocls){v._$clearEvent(_element)}_element.parentNode.removeChild(_element)};e._$removeByEC=function(_element){_element=e._$get(_element);if(!!_element){__cache.appendChild(_element)}};e._$html2node=function(_html){var _div=document.createElement("div");_div.innerHTML=_html;return _div.children.length>1?_div:_div.firstElementChild};e._$getStyle=function(_element,_name){_element=e._$get(_element);var _style=document.defaultView.getComputedStyle(_element,null);return !_style?"":_style[_name]};e._$addStyle=function(_style){if(!_style){return}var _node=e._$create("style");document.head.appendChild(_node);_node.innerText=_style};if(!document.head){document.head=document.getElementsByTagName("head")[0]||document.body}if(!!document.head&&!!document.head.classList){var __doClassName=(function(){var _reg=/\s+/;return function(_element,_type,_class){_element=e._$get(_element);if(!_element||!_class){return}_class=_class.split(_reg);for(var i=0,l=_class.length;i<l;i++){if(!!_class[i]){_element.classList[_type](_class[i])}}}})();e._$addClassName=function(_element,_add){__doClassName(_element,"add",_add)};e._$delClassName=function(_element,_del){__doClassName(_element,"remove",_del)};e._$replaceClassName=function(_element,_del,_add){e._$delClassName(_element,_del);e._$addClassName(_element,_add)}}else{e._$replaceClassName=(function(){var _space=/\s+/g,_getRegClassName=function(_class){_class=(_class||"");return !_class?"":"(\\s|^)(?:"+_class.replace(_space,"|")+")(?=\\s|$)"};return function(_element,_del,_add){_element=e._$get(_element);if(!_element||(!_del&&!_add)){return}var _class=_element.className||"";_add=" "+(_add||"");_del=_getRegClassName(_del+_add);!!_del&&(_class=_class.replace(new RegExp(_del,"g"),"$1"));_element.className=(_class+_add).replace(_space," ")}})();e._$addClassName=function(_element,_add){e._$replaceClassName(_element,"",_add)};e._$delClassName=function(_element,_del){e._$replaceClassName(_element,_del,"")}}})(MWF.R,MWF.O,MWF.F,MWF.P("mwf.g"),MWF.P("mwf.e"),MWF.P("mwf.u"),MWF.P("mwf.v"));(function(r,f,u,p){var __proEvent;p._$$Event=MWF.C();__proEvent=p._$$Event.prototype;p._$$Event._$allocate=function(){var _instance=!!this.__pool&&this.__pool.shift()||new this(arguments[0]);_instance.__reset.apply(_instance,arguments);_instance.__xxxx=true;return _instance};p._$$Event._$recycle=function(_instance){if(!(_instance instanceof this)||!_instance.__xxxx){return}if(!this.__pool){this.__pool=[]}_instance.__destroy();_instance.__xxxx=false;this.__pool.push(_instance);return null};p._$$Event._$getInstance=function(){if(!this.__instance){this.__instance=new this(arguments[0])}this.__instance.__reset.apply(this.__instance,arguments);return this.__instance};__proEvent.__init=function(){this.__events={}};__proEvent.__applyEvent=function(_object,_type){if(arguments.length<2){return}var _event=this.__events[_type.toLowerCase()];if(!!_event){return _event.apply(_object,r.slice.call(arguments,2))}};__proEvent.__dispatchEvent=function(){var _args=[this];r.push.apply(_args,arguments);return this.__applyEvent.apply(this,_args)};__proEvent._$dispatchEvent=function(){var _args=[this];r.push.apply(_args,arguments);return this.__applyEvent.apply(this,_args)};__proEvent._$addEvent=function(_type,_event){if(!_type||!u._$isFunction(_event)){return}this.__events[_type.toLowerCase()]=_event};__proEvent.__reset=f;__proEvent.__destroy=f})(MWF.R,MWF.F,MWF.P("mwf.u"),MWF.P("mwf.ut"));(function(e,u){var __cache={},__key=u._$randNumberString(4)+"-";e._$parseTemplate=function(_element){_element=e._$get(_element);if(!_element){return}var _list=_element.getElementsByTagName("textarea");if(!!_list&&_list.length>0){for(var i=_list.length-1,n,t;i>=0;i--){n=_list[i];if(!n.id){continue}t=n.name.toLowerCase();if(t=="jst"){e._$addHtmlTemplate(n);continue}if(t=="txt"){e._$addTextTemplate(n.id,n.value||"");continue}if(t=="ntp"){e._$addNodeTemplate(n.value||"",n.id);continue}}}var _list=_element.getElementsByTagName("iframe");if(!!_list&&_list.length>0){for(var i=_list.length-1;i>=0;i--){try{e._$parseTemplate(_list[i].contentWindow.document.body)}catch(e){}}}};e._$addTextTemplate=function(_key,_value){__cache[_key]=_value||""};e._$getTextTemplate=function(_key){return __cache[_key]||""};e._$addNodeTemplate=function(_element,_key){_key=_key||u._$randNumberString();_element=e._$get(_element)||_element;e._$addTextTemplate(__key+_key,_element);return _key};e._$getNodeTemplate=function(_key){_key=__key+_key;var _value=e._$getTextTemplate(_key);if(u._$isString(_value)){_value=e._$html2node(_value);e._$addTextTemplate(_key,_value)}return _value.cloneNode(true)}})(MWF.P("mwf.e"),MWF.P("mwf.u"));(function(e,u){var __fcache={},__tcache={},__stack=[],__rspc=/\s+/g,__seed=u._$randNumberString();var __parsePrefixFor=function(_part){if(_part[2]!="in"){throw"bad for loop statement: "+_part.join(" ")}__stack.push(_part[1]);return"var __HASH__"+_part[1]+" = "+_part[3]+","+_part[1]+","+_part[1]+"_count=0;if (!!__HASH__"+_part[1]+")for(var "+_part[1]+"_key in __HASH__"+_part[1]+"){"+_part[1]+" = __HASH__"+_part[1]+"["+_part[1]+"_key];if (!"+_part[1]+"||typeof("+_part[1]+')=="function") continue;'+_part[1]+"_count++;"};var __parsePrefixForElse=function(){var _part=__stack[__stack.length-1];return"}; if(!__HASH__"+_part+"||!"+_part+"_count){"};var __parsePrefixForEnd=function(){__stack.pop();return"};"};var __parsePrefixLst=function(_part){if(_part[2]!="as"){throw"bad for list loop statement: "+_part.join(" ")}var _seq=_part[1].split("..");if(_seq.length>1){return"for(var "+_part[3]+","+_part[3]+"_index=0,"+_part[3]+"_beg="+_seq[0]+","+_part[3]+"_end="+_seq[1]+","+_part[3]+"_length=parseInt("+_part[3]+"_end-"+_part[3]+"_beg+1);"+_part[3]+"_index<"+_part[3]+"_length;"+_part[3]+"_index++){"+_part[3]+" = "+_part[3]+"_beg+"+_part[3]+"_index;"}else{return"for(var __LIST__"+_part[3]+" = "+_part[1]+","+_part[3]+","+_part[3]+"_index=0,"+_part[3]+"_length=__LIST__"+_part[3]+".length;"+_part[3]+"_index<"+_part[3]+"_length;"+_part[3]+"_index++){"+_part[3]+" = __LIST__"+_part[3]+"["+_part[3]+"_index];"}};var __parsePrefixMcr=function(_part){if(!_part||!_part.length){return}_part.shift();var _name=_part[0].split("(")[0];return"var "+_name+" = function"+_part.join("").replace(_name,"")+"{var __OUT=[];"};var __config={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break",def:{"if":{pfix:"if(",sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:"}else if(",sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:__parsePrefixFor,pmin:3},forelse:{pfix:__parsePrefixForElse},"/for":{pfix:__parsePrefixForEnd},list:{pfix:__parsePrefixLst,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:"var ",sfix:";"},macro:{pfix:__parsePrefixMcr},"/macro":{pfix:"return __OUT.join(''); };"}},ext:{rand:u._$randNumberString,escape:u._$escape,format:u._$format,seed:function(_prefix){return(_prefix||"")+__seed},"default":function(_value,_default){return _value||_default}}};var __parseStatement=function(_content,_out){var _part=_content.slice(1,-1).split(__rspc),_conf=__config.def[_part[0]];if(!_conf){__parseSectionText(_content,_out);return}if(!!_conf.pmin&&_conf.pmin>=_part.length){throw"Statement needs more parameters:"+_content}_out.push((!!_conf.pfix&&typeof(_conf.pfix)!="string")?_conf.pfix(_part):(_conf.pfix||""));if(!!_conf.sfix){if(_part.length<=1){if(!!_conf.pdft){_out.push(_conf.pdft)}}else{for(var i=1,l=_part.length;i<l;i++){if(i>1){_out.push(" ")}_out.push(_part[i])}}_out.push(_conf.sfix)}};var __parseSectionText=function(_content,_out){if(!_content){return}var _lines=_content.split("\n");if(!_lines||!_lines.length){return}for(var i=0,l=_lines.length;i<l;i++){__parseSectionTextLine(_lines[i],_out)}};var __parseSectionTextLine=(function(){var _raor=/\|\|/g,_rvor=/#@@#/g;return function(_content,_out){var _prvmrkend="}",_prvexpend=-1,_length=_content.length,_begin,_end,_begexp,_endexp,_exparr;while((_prvexpend+_prvmrkend.length)<_length){_begin="${";_end="}";_begexp=_content.indexOf(_begin,_prvexpend+_prvmrkend.length);if(_begexp<0){break}if(_content.charAt(_begexp+2)=="%"){_begin="${%";_end="%}"}_endexp=_content.indexOf(_end,_begexp+_begin.length);if(_endexp<0){break}__parseText(_content.substring(_prvexpend+_prvmrkend.length,_begexp),_out);_exparr=_content.substring(_begexp+_begin.length,_endexp).replace(_raor,"#@@#").split("|");for(var i=0,l=_exparr.length;i<l;_exparr[i]=_exparr[i].replace(_rvor,"||"),i++){}_out.push("__OUT.push(");__parseExpression(_exparr,_out);_out.push(");");_prvmrkend=_end;_prvexpend=_endexp}__parseText(_content.substring(_prvexpend+_prvmrkend.length),_out)}})();var __parseText=(function(){var _map={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"};return function(_content,_out){if(!_content){return}_out.push("__OUT.push('"+u._$encode(_map,_content)+"');")}})();var __parseExpression=function(_exps,_out){if(!_exps||!_exps.length){return}if(_exps.length==1){_out.push(_exps.pop());return}var _exp=_exps.pop().split(":");_out.push("__MDF['"+_exp.shift()+"'](");__parseExpression(_exps,_out);if(_exp.length>0){_out.push(","+_exp.join(":"))}_out.push(")")};var __parseTemplate=(function(){var _rtab=/\t/g,_rnln=/\n/g,_rlne=/\r\n?/g;return function(_content){_content=_content.replace(_rlne,"\n").replace(_rtab,"    ");var _ftxt=["if(!__CTX) return '';var __OUT=[];with(__CTX){"];var _prvend=-1,_length=_content.length;var _stmtbeg,_stmtend,_statement,_blockrx,_blktmp,_blkend,_blkmrk,_blktxt;while((_prvend+1)<_length){_stmtbeg=_prvend;_stmtbeg=_content.indexOf("{",_stmtbeg+1);while(_stmtbeg>=0){_stmtend=_content.indexOf("}",_stmtbeg+1);_statement=_content.substring(_stmtbeg,_stmtend);_blockrx=_statement.match(__config.blk);if(!!_blockrx){_blktmp=_blockrx[1].length+1;_blkend=_content.indexOf("}",_stmtbeg+_blktmp);if(_blkend>=0){_blkmrk=_blkend-_stmtbeg-_blktmp<=0?("{/"+_blockrx[1]+"}"):_statement.substr(_blktmp+1);_blktmp=_content.indexOf(_blkmrk,_blkend+1);if(_blktmp>=0){__parseSectionText(_content.substring(_prvend+1,_stmtbeg),_ftxt);_blktxt=_content.substring(_blkend+1,_blktmp);switch(_blockrx[1]){case"cdata":__parseText(_blktxt,_ftxt);break;case"minify":__parseText(_blktxt.replace(_rnln," ").replace(__rspc," "),_ftxt);break;case"eval":if(!!_blktxt){_ftxt.push("__OUT.push((function(){"+_blktxt+"})());")}break}_stmtbeg=_prvend=_blktmp+_blkmrk.length-1}}}else{if(_content.charAt(_stmtbeg-1)!="$"&&_content.charAt(_stmtbeg-1)!="\\"&&_statement.substr(_statement.charAt(1)=="/"?2:1).search(__config.tag)==0){break}}_stmtbeg=_content.indexOf("{",_stmtbeg+1)}if(_stmtbeg<0){break}_stmtend=_content.indexOf("}",_stmtbeg+1);if(_stmtend<0){break}__parseSectionText(_content.substring(_prvend+1,_stmtbeg),_ftxt);__parseStatement(_content.substring(_stmtbeg,_stmtend+1),_ftxt);_prvend=_stmtend}__parseSectionText(_content.substring(_prvend+1),_ftxt);_ftxt.push("};return __OUT.join('');");return new Function("__CTX","__MDF",_ftxt.join(""))}})();e._$getHtmlTemplateSeed=function(){return __seed};e._$getHtmlTemplate=function(_sn,_data,_extend){try{_data=_data||{};if(!__fcache[_sn]&&!__tcache[_sn]){return""}if(!__fcache[_sn]){__fcache[_sn]=__parseTemplate(__tcache[_sn]);delete __tcache[_sn]}_data.defined=function(_key){return _data[_key]!=null};if(!!_extend){for(var p in __config.ext){_extend[p]=__config.ext[p]}}return __fcache[_sn](_data,_extend||__config.ext)}catch(e){return e.message||""}};e._$addHtmlTemplate=function(_content){if(!_content){return""}var _sn,_element=e._$get(_content);if(!!_element){_sn=_element.id;_content=_element.value||_element.innerText}_sn=_sn||("ck_"+u._$randNumberString());__tcache[_sn]=_content;return _sn}})(MWF.P("mwf.e"),MWF.P("mwf.u"));(function(o,f,e,p){var __proItem;p._$$Item=MWF.C();__proItem=p._$$Item._$extend(p._$$Event);p._$$Item._$allocate=function(_list,_options){var _arr=[];if(!_list||_list.length<=0){return _arr}_options=_options||{};if(_options.begin==null){_options.begin=0}if(_options.end==null){_options.end=_list.length}for(var k=0,i=_options.begin,l=_options.end,_item;i<l;i++){if(!_list[i]){continue}_item=!!this.__pool&&this.__pool.shift()||new this();_item.__xxxx=true;_options.index=k++;_item.__resetOption(_options);_item.__appendToParent(_options.parent);_item.__setData(_list[i])}};p._$$Item._$recycle=function(_item){if(u._$isArray(_item)){for(var i=0,l=_item.length;i<l;this._$recycle(_item[i]),i++){}return null}if(!(_item instanceof this)||!_item.__xxxx){return}if(!this.__pool){this.__pool=[]}_item.__destroy();_item.__xxxx=false;this.__pool.push(_item);return null};__proItem.__init=function(){this.__super();this.__body=e._$getNodeTemplate(arguments[0])};__proItem.__destroy=function(){e._$removeByEC(this.__body)};__proItem.__setData=function(_data){this.__data=_data||o};__proItem.__resetOption=function(_options){_options=_options||o;this.__end=_options.end;this.__index=_options.index;this.__begin=_options.begin};__proItem.__appendToParent=function(_parent){_parent=e._$get(_parent);if(!!_parent&&!!this.__body){_parent.appendChild(this.__body)}}})(MWF.O,MWF.F,MWF.P("mwf.e"),MWF.P("mwf.ut"));(function(o,f,j,e,v){var __cache={},__timeout=60000;var __clear=function(_url){var _cache=__cache[_url];if(!_cache){return}window.clearTimeout(_cache.timer);delete _cache.timer;e._$remove(_cache.req);delete _cache.req;delete _cache.cb;delete __cache[_url]};var __callback=function(_url,_type){var _cache=__cache[_url];if(!_cache){return}var _list=_cache.cb;__clear(_url);if(!_list){return}while(_list.length){try{(_list.shift()[_type]||f)(arguments[2])}catch(e){}}};var __onLoad=function(_url){__callback(_url,"onload")};var __onError=function(_url,_error){__callback(_url,"onerror",_error)};j._$loadScript=function(_url,_options){if(!_url){return}_options=_options||o;var _callback={onload:_options.onloaded||f,onerror:_options.onerror||f};var _loading=__cache[_url],_request;if(!!_loading){_loading.cb.unshift(_callback);_loading.timer=window.clearTimeout(_loading.timer)}else{_request=e._$create("script");__cache[_url]={req:_request,cb:[_callback]};if(!!_options.charset){_request.charset=_options.charset}v._$addEvent(_request,"load",__onLoad._$bind(null,_url));v._$addEvent(_request,"error",__onError._$bind(null,_url,{code:-10000,message:"无法加载指定脚本文件["+_url+"]！"}))}if(_options.timeout!=0){__cache[_url].timer=window.setTimeout(__onError._$bind(null,_url,{code:-10001,message:"指定脚本文件["+_url+"]载入超时！"}),_options.timeout||__timeout)}if(!!_request){_request.src=_url;document.head.appendChild(_request)}(_options.onloading||f)()}})(MWF.O,MWF.F,MWF.P("mwf.j"),MWF.P("mwf.e"),MWF.P("mwf.v"));(function(o,f,u,j){var __cache={};var __clear=function(_sn){var _cache=__cache[_sn];if(!_cache){return}j._$$XDR._$recycle(_cache.req);delete __cache[_sn]};var __callback=function(_sn,_type){var _cache=__cache[_sn];if(!_cache){return}__clear(_sn);try{(_cache[_type]||f)(arguments[2])}catch(e){}};var __onLoad=function(_sn,_data){__callback(_sn,"onload",_data)};var __onError=function(_sn,_error){__callback(_sn,"onerror",_error)};j._$request=function(_url,_options){_options=_options||{};var _sn=u._$randNumberString(),_cache={onload:_options.onload||f,onerror:_options.onerror||f};__cache[_sn]=_cache;_options.onload=__onLoad._$bind(null,_sn);_options.onerror=__onError._$bind(null,_sn);_cache.req=j._$$XDR._$allocate(_url,_options);_cache.req._$send(_options.data)}})(MWF.O,MWF.F,MWF.P("mwf.u"),MWF.P("mwf.j"));(function(o,f,j,ut){var __proXDR;j._$$XDR=MWF.C();__proXDR=j._$$XDR._$extend(ut._$$Event,true);__proXDR.__reset=function(_url,_options){_options=_options||o;this.__url=_url||"";this.__sync=!!_options.sync;this.__type=_options.type||"text";this.__method=_options.method||"GET";this.__timeout=_options.timeout;this.__headers=_options.headers||{};var _content=this.__headers["Content-Type"]||this.__headers["content-type"];if(_content==null){this.__headers["Content-Type"]="text/plain"}var _oauth=this.__headers["Auth-Key"]||"";if(!!_oauth&&!!ut._$$OAuth){delete this.__headers["Auth-Key"];this.__headers.Authorization=ut._$$OAuth._$getAuthHeader(_oauth,{m:this.__method,r:this.__url})}this._$addEvent("onload",_options.onload||f);this._$addEvent("onerror",_options.onerror||f);this._$addEvent("onuploading",_options.onuploading||f);this._$addEvent("ondownloading",_options.ondownloading||f)};__proXDR.__destroy=function(){this.__xdr.onload=null;this.__xdr.onerror=null;this.__xdr.upload.onprogress=null;this.__xdr.abort();delete this.__xdr;window.clearTimeout(this.__timer);delete this.__timer};__proXDR._$send=function(_data){if(!this.__url){this._$dispatchEvent("onerror",{code:-10007,message:"没有输入XDR请求地址！"});return}try{this.__xdr=new XMLHttpRequest();this.__xdr.open(this.__method,this.__url,!this.__sync);for(var x in this.__headers){this.__xdr.setRequestHeader(x,this.__headers[x])}this.__xdr.onreadystatechange=this.__onStateChange._$bind(this);this.__xdr.onerror=this._$dispatchEvent._$bind(this,"onerror",{code:-10011,message:"服务器无法响应XDR请求["+this.__url+"]！"});this.__xdr.onprogress=this.__onProgress._$bind(this,"ondownloading");this.__xdr.upload.onprogress=this.__onProgress._$bind(this,"onuploading");if(this.__timeout!=0){this.__timer=window.setTimeout(this.__onTimeout._$bind(this),this.__timeout||60000)}this.__xdr.send(_data==null?null:_data)}catch(e){this._$dispatchEvent("onerror",{code:-10008,message:"请求["+this.__url+"]失败:"+e.message+"！"})}};__proXDR.__onStateChange=function(){if(this.__xdr.readyState==4){this.__onLoad()}};__proXDR.__onLoad=function(){try{if(!!this.__timer){this.__timer=window.clearTimeout(this.__timer)}var _status=this.__xdr.status;if(_status!=200){this._$dispatchEvent("onerror",{code:-10009,data:_status,message:"服务器返回异常状态["+_status+"]!"});return}var _body=null;switch(this.__type){case"json":try{_body=(new Function("return "+this.__xdr.responseText))()}catch(e){}break;case"xml":_body=this.__xdr.responseXML;break;default:_body=this.__xdr.responseText;break}this._$dispatchEvent("onload",_body)}catch(e){this._$dispatchEvent("onerror",{code:-10010,message:"处理XDR返回数据异常["+e.message+"]！"})}};__proXDR.__onTimeout=function(){window.clearTimeout(this.__timer);this._$dispatchEvent("onerror",{code:-10001,message:"XDR请求["+this.__url+"]超时！"})};__proXDR.__onProgress=function(_type,_event){this._$dispatchEvent(_type,_event.loaded,_event.total)}})(MWF.O,MWF.F,MWF.P("mwf.j"),MWF.P("mwf.ut"));(function(o,f,j,u,w){var __batchid,__filter=f,__cache={},__batch=null;j._$setFilter=function(_filter){__filter=u._$isFunction(_filter)?_filter:f};j._$setBatchId=function(_id){__batchid=_id||""};j._$beginBatch=function(){if(!!__batch){return}__batch={h:{},p:0,r:{script:false,sync:false,method:"POST",timeout:null},m:{callCount:0,scriptSessionId:"${scriptSessionId}190"}}};j._$requestByDWR=function(_url,_options){var _info=(_url||"").split(".");if(!_info||_info.length!=2){return}var _single=false;if(!__batch){_single=true;j._$beginBatch()}_options=_options||o;__batch.u=(_options.path||"/dwr/call/plaincall/")+(_options.query&&("?"+_options.query)||"");MWF.EX(__batch.r,_options);if(!!_options.headers){var _headers=__batch.r.headers||{};for(var x in _options.headers){_headers[x]=_options.headers[x]}__batch.r.headers=_headers}var _prefix="c"+__batch.m.callCount;__batch.m[_prefix+"-scriptName"]=_info[0];__batch.m[_prefix+"-methodName"]=_info[1];__batch.m[_prefix+"-id"]=__batch.m.callCount;__batch.h[__batch.m.callCount]={c:_options.onload||f,e:_options.onerror||f};var _params=_options.param;if(!!_params&&_params.length>0){for(var i=0,l=_params.length,_value;i<l;i++){_value=__serialize(_params[i],_prefix);!!_value&&(__batch.m[_prefix+"-param"+i]=_value)}}__batch.m.callCount++;if(_single){j._$endBatch()}};j._$endBatch=function(){if(!__batch||!__batch.u){__batch=null;return}var _bid=__batchid||u._$randNumberString(6);__batchid=0;__batch.m.batchId=_bid;__cache[_bid]=__batch;__batch=null;__doRequest(_bid)};var __destroyBatch=function(_bid){var _batch=__cache[_bid];if(!_batch){return}delete _batch.h;delete _batch.m;delete __cache[_bid]};var __serialize=function(_data,_prefix){if(_data==null){return"null:null"}if(u._$isBoolean(_data)){return"boolean:"+!!_data}if(u._$isNumber(_data)){return"number:"+_data}if(u._$isString(_data)){return"string:"+encodeURIComponent(_data)}if(u._$isDate(_data)){return"Date:"+_data.getTime()}if(u._$isArray(_data)){return __serializeArray(_data,_prefix)}if(u._$isObject(_data)){return __serializeObject(_data,_prefix)}if(u._$isFunction(_data,"function")){return""}return"default:"+_data};var __serializeArray=function(_list,_prefix){var _arr=[];for(var i=0,l=_list.length,_ref,_value;i<l;i++){__batch.p++;_ref=_prefix+"-e"+__batch.p;_value=__serialize(_list[i],_prefix);if(!_value){continue}__batch.m[_ref]=_value;_arr.push("reference:"+_ref)}return"Array:["+_arr.join(",")+"]"};var __serializeObject=function(_object,_prefix){var _arr=[],_ref,_value;for(var p in _object){__batch.p++;_ref=_prefix+"-e"+__batch.p;_value=__serialize(_object[p],_prefix);if(!_value){continue}__batch.m[_ref]=_value;_arr.push(encodeURIComponent(p)+":reference:"+_ref)}return"Object_Object:{"+_arr.join(",")+"}"};var __serializeSendData=function(_data,_sep){if(!_data){return null}var _arr=[],_and=_sep=="&";for(var p in _data){_arr.push(!_and?(p+"="+_data[p]):(encodeURIComponent(p)+"="+encodeURIComponent(_data[p])))}return _arr.join(_sep||"\n")};var __doRequest=function(_bid){var _batch=__cache[_bid];if(!_batch){return}_batch.u=_batch.u.replace(/(\?|$)/,(_batch.m.callCount>1?"Multiple."+_batch.m.callCount:_batch.m["c0-scriptName"]+"."+_batch.m["c0-methodName"])+".dwr$1");var _option=_batch.r,_script=!!_option.script,_ispost=_option.method=="POST";delete _batch.r;delete _option.script;_option.method=_option.method.toUpperCase();_option.onerror=__onErrorWithReq._$bind(null,_bid);if(_script||!_ispost){_batch.u+=(_batch.u.indexOf("?")>=0?"&":"?")+__serializeSendData(_batch.m,"&")}if(_script){j._$loadScript(_batch.u,_option)}else{_option.onload=__onLoadWithXDR._$bind(null,_bid);_option.data=_ispost?__serializeSendData(_batch.m):null;j._$request(_batch.u,_option)}};var __onError=function(_bid,_cid,_error){var _batch=__cache[_bid];if(!_batch||__filter(_error)){return}var _handler=_batch.h[_cid];if(!_handler){return}try{(_handler.e||f)(_error)}catch(e){}};var __onErrorAll=function(_bid,_error){var _batch=__cache[_bid];if(!_batch){return}var _handler=_batch.h;for(var x in _handler){__onError(_bid,x,_error)}};var __onLoadFromDWR=function(_bid,_cid,_data){var _batch=__cache[_bid];if(!_batch){return}try{(_batch.h[_cid].c||f)(_data)}catch(e){__onError(_bid,_cid,{code:-10005,message:"DWR回调执行异常："+e.message||e})}};var __onLoadWithXDR=function(_bid,_text){try{!!_text&&_text.search("//#DWR")>=0?(new Function(_text))():__onErrorAll(_bid,{code:-10003,message:"DWR请求返回数据不合法!"})}catch(e){__onErrorAll(_bid,{code:-10004,message:"DWR返回脚本执行异常："+e.message||e})}finally{__destroyBatch(_bid)}};var __onErrorWithReq=function(_bid,_error){__onErrorAll(_bid,_error);__destroyBatch(_bid)};w._remoteHandleCallback=__onLoadFromDWR;w._remoteHandleException=__onError;w._remoteHandleBatchException=__onErrorAll})(MWF.O,MWF.F,MWF.P("mwf.j"),MWF.P("mwf.u"),MWF.P("dwr.engine"));(function(o,f,j){var __cache={};var __callback=function(_url,_type,_event){var _tmp=__cache[_url];if(!_tmp){return}_tmp=_tmp.cb;if(!!_tmp&&_tmp.length>0){for(var i=0,l=_tmp.length;i<l;i++){try{(_tmp[i][_type])(_event)}catch(e){}}}};j._$connect=function(_url,_options){if(!_url){return}_options=_options||o;var _callback={onopen:_options.onopen||f,onclose:_options.onclose||f,onerror:_options.onerror||f,onmessage:_options.onmessage||f};var _cache=__cache[_url];if(!!_cache){_cache.cb.unshift(_callback);return}var _req=new (window[_url.search(/wss?:\/\//i)==0?"WebSocket":"EventSource"])(_url);__cache[_url]={req:_req,cb:[_callback]};_req.onopen=__callback._$bind(null,_url,"onopen");_req.onclose=__callback._$bind(null,_url,"onclose");_req.onerror=__callback._$bind(null,_url,"onerror");_req.onmessage=__callback._$bind(null,_url,"onmessage")};j._$closeConnection=function(_url){var _cache=__cache[_url];if(!_cache){return}var _tmp=_cache.req;_tmp.onopen=null;_tmp.onerror=null;_tmp.onmessage=null;_tmp.close();__callback(_url,"onclose");delete _cache.cb;delete _cache.req;delete __cache[_url]};j._$sendDataByCNT=function(_url,_data){var _cache=__cache[_url];try{_cache.req.send(_data)}catch(e){}}})(MWF.O,MWF.F,MWF.P("mwf.j"));(function(o,j){var __cache={};j._$setDataInStorage=function(_key,_value){__cache[_key]=false;localStorage.setItem(_key,JSON.stringify(_value))};j._$getDataInStorage=function(_key){if(!!__cache[_key]){return null}return JSON.parse(localStorage.getItem(_key)||"null")};j._$delDataInStorage=function(_key){__cache[_key]=true;localStorage.removeItem(_key)};j._$clearDataInStorage=function(){for(var i=0,_key;;i++){_key=localStorage.key(i);if(!_key){break}__cache[_key]=true}localStorage.clear()};j._$clearStorageExclude=function(_exclude){_exclude=_exclude||o;for(var x in _exclude){_exclude[x]=localStorage.getItem(x)}j._$clearDataInStorage();for(var x in _exclude){__cache[x]=false;localStorage.setItem(x,_exclude[x])}}})(MWF.O,MWF.P("mwf.j"));(function(r,o,f,u,j,p){var __proCache,__supCache,__key="dat-"+u._$randNumberString(4);p._$$Cache=MWF.C();__proCache=p._$$Cache._$extend(p._$$Event);__supCache=p._$$Cache._$supro;__proCache.__init=function(){this.__super();this.__config={};if(!this.constructor[__key]){var _cache={};_cache[__key+"-v"]=[];this.constructor[__key]=_cache}};__proCache._$addEvent=function(_type,_event){if((_type||"").toLowerCase()=="oncachechange"){this.constructor[__key][__key+"-v"].unshift(_event||f);return}__supCache._$addEvent.apply(this,arguments)};__proCache._$dispatchEvent=function(_type){if((_type||"").toLowerCase()=="oncachechange"){var _list=this.constructor[__key][__key+"-v"];if(!!_list&&_list.length>0){var _args=r.slice.call(arguments,1);for(var i=0,l=_list.length;i<l;i++){try{_list[i].apply(null,_args)}catch(e){}}}return}return __supCache._$dispatchEvent.apply(this,arguments)};__proCache.__getDataInCache=function(_key){return this.constructor[__key][_key]};__proCache.__setDataInCache=function(_key,_value){this.constructor[__key][_key]=_value;this._$dispatchEvent("oncachechange",_key,_value)};__proCache.__getDataInStorage=function(_key){return j._$getDataInStorage(_key)};__proCache.__setDataInStorage=function(_key,_value){j._$setDataInStorage(_key,_value)};__proCache.__getDataLocalWithDefault=function(_key,_default){var _data=this.__getDataLocal(_key);if(_data==null){_data=_default;this.__setDataLocal(_key,_data)}return _data};__proCache.__getDataLocal=function(_key){var _data=this.__getDataInCache(_key);if(_data!=null){return _data}_data=this.__getDataInStorage(_key);if(_data!=null){this.__setDataInCache(_key,_data)}return _data};__proCache.__setDataLocal=function(_key,_value){this.__setDataInStorage(_key,_value);this.__setDataInCache(_key,_value)};__proCache.__delDataLocal=function(_key){var _cache=this.constructor[__key];if(_key!=null){delete _cache[_key];j._$delDataInStorage(_key);return}for(var x in _cache){if(x==__key+"-v"){continue}this.__delDataLocal(x)}};__proCache._$clearDataLocal=function(){this.__delDataLocal()};__proCache.__hasFragment=function(_list,_offset,_limit){if(!_list){return false}if(!_limit){return !!_list.loaded}if(_list.loaded){_limit=Math.min(_limit,_list.length-_offset)}for(var i=0;i<_limit;i++){if(!_list[_offset+i]){return false}}return true}})(MWF.R,MWF.O,MWF.F,MWF.P("mwf.u"),MWF.P("mwf.j"),MWF.P("mwf.ut"));(function(p){var __chrsz=8;var __rol=function(_number,_count){return(_number<<_count)|(_number>>>(32-_count))};var __add=function(x,y){var _lsw=(x&65535)+(y&65535),_msw=(x>>16)+(y>>16)+(_lsw>>16);return(_msw<<16)|(_lsw&65535)};var __sha1ft=function(t,b,c,d){if(t<20){return(b&c)|((~b)&d)}if(t<40){return b^c^d}if(t<60){return(b&c)|(b&d)|(c&d)}return b^c^d};var __sha1kt=function(t){if(t<20){return 1518500249}if(t<40){return 1859775393}if(t<60){return -1894007588}return -899497514};var __str2bin=(function(){var _lmove=function(i){return i%32},_bmove=function(i){return 32-__chrsz-i%32};return function(_str,_little){var _bin=[],_mask=(1<<__chrsz)-1,_move=_little?_lmove:_bmove;for(var i=0,l=_str.length*__chrsz;i<l;i+=__chrsz){_bin[i>>5]|=(_str.charCodeAt(i/__chrsz)&_mask)<<_move(i)}return _bin}})();var __bin2hex=(function(){var _hextab="0123456789abcdef",_lmove=function(i){return i%4},_bmove=function(i){return 3-i%4};return function(_binarray,_little){var _arr=[],_move=_little?_lmove:_bmove;for(var i=0,l=_binarray.length*4;i<l;i++){_arr.push(_hextab.charAt((_binarray[i>>2]>>(_move(i)*8+4))&15)+_hextab.charAt((_binarray[i>>2]>>(_move(i)*8))&15))}return _arr.join("")}})();var __bin2str=(function(){var _lmove=function(i){return i%32},_bmove=function(i){return 32-__chrsz-i%32};return function(_bin,_little){var _arr=[],_mask=(1<<__chrsz)-1,_move=_little?_lmove:_bmove;for(var i=0,l=_bin.length*32;i<l;i+=__chrsz){_arr.push(String.fromCharCode((_bin[i>>5]>>>_move(i))&_mask))}return _arr.join("")}})();var __bin2b64=(function(){var _b64pad="=",_b64tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_lmove=function(i){return i%4},_bmove=function(i){return 3-i%4};return function(_binarray,_little){var _arr=[],_move=_little?_lmove:_bmove;for(var i=0,_triplet;i<_binarray.length*4;i+=3){_triplet=(((_binarray[i>>2]>>8*_move(i))&255)<<16)|(((_binarray[i+1>>2]>>8*_move(i+1))&255)<<8)|((_binarray[i+2>>2]>>8*_move(i+2))&255);for(var j=0;j<4;j++){_arr.push((i*8+j*6>_binarray.length*32)?_b64pad:_b64tab.charAt((_triplet>>6*(3-j))&63))}}return _arr.join("")}})();var __md5cm=function(q,a,b,x,s,t){return __add(__rol(__add(__add(a,q),__add(x,t)),s),b)};var __md5ff=function(a,b,c,d,x,s,t){return __md5cm((b&c)|((~b)&d),a,b,x,s,t)};var __md5gg=function(a,b,c,d,x,s,t){return __md5cm((b&d)|(c&(~d)),a,b,x,s,t)};var __md5hh=function(a,b,c,d,x,s,t){return __md5cm(b^c^d,a,b,x,s,t)};var __md5ii=function(a,b,c,d,x,s,t){return __md5cm(c^(b|(~d)),a,b,x,s,t)};var __data2md5=function(x,y){x[y>>5]|=128<<((y)%32);x[(((y+64)>>>9)<<4)+14]=y;var a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(var i=0,l=x.length,_oa,_ob,_oc,_od;i<l;i+=16){_oa=a;_ob=b;_oc=c;_od=d;a=__md5ff(a,b,c,d,x[i+0],7,-680876936);d=__md5ff(d,a,b,c,x[i+1],12,-389564586);c=__md5ff(c,d,a,b,x[i+2],17,606105819);b=__md5ff(b,c,d,a,x[i+3],22,-1044525330);a=__md5ff(a,b,c,d,x[i+4],7,-176418897);d=__md5ff(d,a,b,c,x[i+5],12,1200080426);c=__md5ff(c,d,a,b,x[i+6],17,-1473231341);b=__md5ff(b,c,d,a,x[i+7],22,-45705983);a=__md5ff(a,b,c,d,x[i+8],7,1770035416);d=__md5ff(d,a,b,c,x[i+9],12,-1958414417);c=__md5ff(c,d,a,b,x[i+10],17,-42063);b=__md5ff(b,c,d,a,x[i+11],22,-1990404162);a=__md5ff(a,b,c,d,x[i+12],7,1804603682);d=__md5ff(d,a,b,c,x[i+13],12,-40341101);c=__md5ff(c,d,a,b,x[i+14],17,-1502002290);b=__md5ff(b,c,d,a,x[i+15],22,1236535329);a=__md5gg(a,b,c,d,x[i+1],5,-165796510);d=__md5gg(d,a,b,c,x[i+6],9,-1069501632);c=__md5gg(c,d,a,b,x[i+11],14,643717713);b=__md5gg(b,c,d,a,x[i+0],20,-373897302);a=__md5gg(a,b,c,d,x[i+5],5,-701558691);d=__md5gg(d,a,b,c,x[i+10],9,38016083);c=__md5gg(c,d,a,b,x[i+15],14,-660478335);b=__md5gg(b,c,d,a,x[i+4],20,-405537848);a=__md5gg(a,b,c,d,x[i+9],5,568446438);d=__md5gg(d,a,b,c,x[i+14],9,-1019803690);c=__md5gg(c,d,a,b,x[i+3],14,-187363961);b=__md5gg(b,c,d,a,x[i+8],20,1163531501);a=__md5gg(a,b,c,d,x[i+13],5,-1444681467);d=__md5gg(d,a,b,c,x[i+2],9,-51403784);c=__md5gg(c,d,a,b,x[i+7],14,1735328473);b=__md5gg(b,c,d,a,x[i+12],20,-1926607734);a=__md5hh(a,b,c,d,x[i+5],4,-378558);d=__md5hh(d,a,b,c,x[i+8],11,-2022574463);c=__md5hh(c,d,a,b,x[i+11],16,1839030562);b=__md5hh(b,c,d,a,x[i+14],23,-35309556);a=__md5hh(a,b,c,d,x[i+1],4,-1530992060);d=__md5hh(d,a,b,c,x[i+4],11,1272893353);c=__md5hh(c,d,a,b,x[i+7],16,-155497632);b=__md5hh(b,c,d,a,x[i+10],23,-1094730640);a=__md5hh(a,b,c,d,x[i+13],4,681279174);d=__md5hh(d,a,b,c,x[i+0],11,-358537222);c=__md5hh(c,d,a,b,x[i+3],16,-722521979);b=__md5hh(b,c,d,a,x[i+6],23,76029189);a=__md5hh(a,b,c,d,x[i+9],4,-640364487);d=__md5hh(d,a,b,c,x[i+12],11,-421815835);c=__md5hh(c,d,a,b,x[i+15],16,530742520);b=__md5hh(b,c,d,a,x[i+2],23,-995338651);a=__md5ii(a,b,c,d,x[i+0],6,-198630844);d=__md5ii(d,a,b,c,x[i+7],10,1126891415);c=__md5ii(c,d,a,b,x[i+14],15,-1416354905);b=__md5ii(b,c,d,a,x[i+5],21,-57434055);a=__md5ii(a,b,c,d,x[i+12],6,1700485571);d=__md5ii(d,a,b,c,x[i+3],10,-1894986606);c=__md5ii(c,d,a,b,x[i+10],15,-1051523);b=__md5ii(b,c,d,a,x[i+1],21,-2054922799);a=__md5ii(a,b,c,d,x[i+8],6,1873313359);d=__md5ii(d,a,b,c,x[i+15],10,-30611744);c=__md5ii(c,d,a,b,x[i+6],15,-1560198380);b=__md5ii(b,c,d,a,x[i+13],21,1309151649);a=__md5ii(a,b,c,d,x[i+4],6,-145523070);d=__md5ii(d,a,b,c,x[i+11],10,-1120210379);c=__md5ii(c,d,a,b,x[i+2],15,718787259);b=__md5ii(b,c,d,a,x[i+9],21,-343485551);a=__add(a,_oa);b=__add(b,_ob);c=__add(c,_oc);d=__add(d,_od)}return[a,b,c,d]};var __data2hmacmd5=function(_key,_data){var _bkey=__str2bin(_key,true);if(_bkey.length>16){_bkey=__data2md5(_bkey,_key.length*__chrsz)}var _ipad=Array(16),_opad=Array(16);for(var i=0;i<16;i++){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}var _hash=__data2md5(_ipad.concat(__str2bin(_data,true)),512+_data.length*__chrsz);return __data2md5(_opad.concat(_hash),512+128)};var __data2sha1=function(x,_length){x[_length>>5]|=128<<(24-_length%32);x[((_length+64>>9)<<4)+15]=_length;var w=Array(80),a=1732584193,b=-271733879,c=-1732584194,d=271733878,e=-1009589776;for(var i=0,l=x.length,_olda,_oldb,_oldc,_oldd,_olde;i<l;i+=16){_olda=a;_oldb=b;_oldc=c;_oldd=d;_olde=e;for(var j=0;j<80;j++){w[j]=j<16?x[i+j]:__rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var t=__add(__add(__rol(a,5),__sha1ft(j,b,c,d)),__add(__add(e,w[j]),__sha1kt(j)));e=d;d=c;c=__rol(b,30);b=a;a=t}a=__add(a,_olda);b=__add(b,_oldb);c=__add(c,_oldc);d=__add(d,_oldd);e=__add(e,_olde)}return[a,b,c,d,e]};var __data2hmacsha1=function(_key,_data){var _bkey=__str2bin(_key);if(_bkey.length>16){_bkey=__data2sha1(_bkey,_key.length*__chrsz)}var _ipad=Array(16),_opad=Array(16);for(var i=0;i<16;i++){_ipad[i]=_bkey[i]^909522486;_opad[i]=_bkey[i]^1549556828}var _hash=__data2sha1(_ipad.concat(__str2bin(_data)),512+_data.length*__chrsz);return __data2sha1(_opad.concat(_hash),512+160)};p._$hmacsha12hex=function(_key,_data){return __bin2hex(__data2hmacsha1(_key,_data))};p._$hmacsha12b64=function(_key,_data){return __bin2b64(__data2hmacsha1(_key,_data))};p._$hmacsha12str=function(_key,_data){return __bin2str(__data2hmacsha1(_key,_data))};p._$hmacmd52hex=function(_key,_data){return __bin2hex(__data2hmacmd5(_key,_data),true)};p._$hmacmd52b64=function(_key,_data){return __bin2b64(__data2hmacmd5(_key,_data),true)};p._$hmacmd52str=function(_key,_data){return __bin2str(__data2hmacmd5(_key,_data),true)};p._$sha12hex=function(_data){return __bin2hex(__data2sha1(__str2bin(_data),_data.length*__chrsz))};p._$sha12b64=function(_data){return __bin2b64(__data2sha1(__str2bin(_data),_data.length*__chrsz))};p._$sha12str=function(_data){return __bin2str(__data2sha1(__str2bin(_data),_data.length*__chrsz))};p._$md52hex=function(_data){return __bin2hex(__data2md5(__str2bin(_data,true),_data.length*__chrsz),true)};p._$md52b64=function(_data){return __bin2b64(__data2md5(__str2bin(_data,true),_data.length*__chrsz),true)};p._$md52str=function(_data){return __bin2str(__data2md5(__str2bin(_data,true),_data.length*__chrsz),true)}})(MWF.P("mwf.u"));(function(o,r,f,u,j,p){var __cache={},__pools={},__stkey="netease-oauth-storage",__storage,__proOAuth;var __signature={PLAINTEXT:function(_key,_content){return _key},"HMAC-SHA1":function(_key,_content){return u._$hmacsha12b64(_key,_content)}};for(var x in __signature){if(x.indexOf("-Accessor")<0){__signature[x+"-Accessor"]=__signature[x]}}var __getStorage=function(_key){if(!__storage){__storage=j._$getDataInStorage(__stkey);if(!__storage){__storage={};j._$setDataInStorage(__stkey,__storage)}}return __storage[_key]};var __setStorage=function(_key,_data){var _cache=__getStorage(_key);if(!!_cache&&_cache.au.t==_data.au.t){return}__storage[_key]=_data;j._$setDataInStorage(__stkey,__storage)};var __timestamp=function(){return Math.floor(new Date().getTime()/1000)};var __encode=(function(){var _map={r:/\!|\*|\'|\(|\)/g,"!":"%21","*":"%2A","'":"%27","(":"%28",")":"%29"};return function(_content){return u._$encode(_map,encodeURIComponent(''+_content))}})();var __decode=(function(){var _reg=/\+/g;return function(_content){return decodeURIComponent((_content||"").replace(_reg," "))}})();var __parseURI=(function(){var _key=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_reg=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/;return function(_uri){var _obj={},_arr=_reg.exec(_uri);for(var i=_key.length-1;i>=0;i--){_obj[_key[i]]=_arr[i]||""}return _obj}})();var __formatURL=function(_url){var _info=__parseURI(_url),_scheme=_info.protocol.toLowerCase(),_authority=_info.authority.toLowerCase(),_ignoreport=(_scheme=="http"&&_info.port==80)||(_scheme=="https"&&_info.port==443);if(_ignoreport){var _index=_authority.lastIndexOf(":");if(_index>0){_authority=_authority.substring(0,_index)}}return _scheme+"://"+_authority+(_info.path||"/")};var __formatParam=function(_param){_param=_param||o;var _arr=[];for(var x in _param){_arr.push(__encode(x)+"="+__encode(_param[x]))}_arr.sort();return _arr.join("&")};var __getBaseKey=function(_message){_message=_message||o;var _index=_message.r.indexOf("?"),_query={};if(_index>=0){_query=u._$query2object(_message.r.substring(_index+1))||{}}for(var x in _message.p){_query[x]=_message.p[x]}return __encode(_message.m.toUpperCase())+"&"+__encode(__formatURL(_message.r))+"&"+__encode(__formatParam(_query))};var __getSignature=function(_message,_data,_config){return(__signature[_config.sign]||f)(__encode(_config.skey)+"&"+(_data.s||""),__getBaseKey(_message))};var __getAuthHeader=function(_message,_data,_config){var _data=_data||o,_message=_message||{},_para=_message.p||{};_message.p=_para;_para.oauth_version="1.0";_para.oauth_nonce=u._$randString(6);_para.oauth_timestamp=__timestamp();_para.oauth_consumer_key=_config.ckey;_para.oauth_signature_method=_config.sign;if(!!_data.t){_para.oauth_token=_data.t}if(!!_data.v){_para.oauth_verifier=_data.v}_para.oauth_signature=__getSignature(_message,_data,_config);var _arr=[];for(var x in _para){if(x.indexOf("oauth_")>=0||x.indexOf("x_auth")>=0){_arr.push(__encode(x)+'="'+__encode(_para[x])+'"')}}return'OAuth realm="'+__encode(_config.realm||"")+'",'+_arr.join(",")};p._$$OAuth=MWF.C();__proOAuth=p._$$OAuth._$extend(p._$$Event,true);p._$$OAuth._$getAccessToken=function(_username,_password,_options){var _instance=this._$allocate();_instance.__getAccessToken.apply(_instance,arguments)};p._$$OAuth._$getAccexxToken=function(_username,_password,_options){var _instance=this._$allocate();_instance.__getAccexxToken.apply(_instance,arguments)};p._$$OAuth._$getAuthHeader=function(_key,_message){var _info=__getStorage(_key);return !_info?"":__getAuthHeader(_message,_info.au,_info.cf)};p._$$OAuth._$cancelAccexxToken=function(_key,_options){var _instance=this._$allocate();_instance.__cancelAccexxToken.apply(_instance,arguments)};__proOAuth.__init=function(){this.__super();this.__initConfig();if(!__cache[this.__id]){__cache[this.__id]={};__pools[this.__id]=this.constructor}};__proOAuth.__getDataKey=function(_username,_password){return u._$sha12b64(_username+":"+_password)};__proOAuth.__getData=function(_key){return __cache[this.__id][_key]};__proOAuth.__setData=function(_key,_data){__cache[this.__id][_key]=_data};__proOAuth.__delData=function(_key){delete __cache[this.__id][_key]};__proOAuth.__initConfig=function(){this.__id="netease-consumer";this.__realm="";this.__method="POST";this.__signature="HMAC-SHA1";this.__consumer_key="";this.__consumer_secret="";this.__request_token_url="";this.__authorize_url="";this.__access_token_url="";this.__cancel_token_url=""};__proOAuth.__checkConfig=function(){if(!!this.__config){return true}if(!!this.__consumer_key&&!!this.__consumer_secret&&!!this.__access_token_url&&!!this.__request_token_url&&!!this.__authorize_url){this.__config={realm:this.__realm,sign:this.__signature,ckey:this.__consumer_key,skey:this.__consumer_secret};return true}return false};__proOAuth.__saveAuthInfo=function(_key,_data){__setStorage(_key,{au:_data,cf:this.__config})};__proOAuth.__getAuthHeader=function(_key,_message){var _data=this.__getData(_key)||o;if(!this.__checkConfig()){return""}return __getAuthHeader(_message,_data,this.__config)};__proOAuth.__clear=function(_key){var _data=this.__getData(_key);if(!!_data){_data.cb=[]}this.__doing=false;this.constructor._$recycle(this)};__proOAuth.__callback=function(_key,_type){var _data=this.__getData(_key);if(!_data||!_data.cb||!_data.cb.length){return}var _args=r.slice.call(arguments,2);for(var i=_data.cb.length-1,_cb;i>=0;i--){_cb=_data.cb[i];try{_cb[_type].apply(window,_args)}catch(e){}}};__proOAuth.__checkRequest=function(_username,_password,_options){_options=_options||o;var _onfail=_options.onfail||f,_onsucc=_options.onsucc||f;if(!this.__checkConfig()){_onfail({code:-10050,message:"客户配置对象没有完成正确配置！"});return}if(!!this.__doing){_onfail({code:-10051,message:"验证进行中，请重新分配客户配置实例进行验证！"});return}var _key=this.__getDataKey(_username,_password),_data=this.__getData(_key),_callback={onfail:_onfail||f,onsucc:_onsucc};if(!!_data){if(!!_data.t&&!!_data.s){var _ckey=this.__id+"\n"+_key;this.__saveAuthInfo(_ckey,{t:_data.t,s:_data.s});_onsucc(_ckey,_data.t);return}_data.cb.push(_callback);return}this.__doing=true;this.__setData(_key,{u:_username,p:_password,cb:[_callback]});return _key};__proOAuth.__getAccessToken=function(_username,_password,_options){var _key=this.__checkRequest(_username,_password,_options);if(!_key){return}var _message={p:{scope:""},m:this.__method,r:this.__request_token_url};j._$request(_message.r,{method:_message.m,data:__formatParam(_message.p),headers:{Authorization:this.__getAuthHeader(_key,_message),"Content-Type":"application/x-www-form-urlencoded"},onload:this.__onRequestSucc._$bind(this,_key),onerror:this.__onRequestFail._$bind(this,_key)})};__proOAuth.__getAccexxToken=function(_username,_password,_options){var _key=this.__checkRequest(_username,_password,_options);if(!_key){return}var _type=1,_pass=_password;if(_options.passtype==0){_type=0;_pass=u._$md52hex(_password)}var _type=_options.passtype==0?0:1,_message={m:this.__method,r:this.__access_token_url,p:{x_auth_mode:"client_auth",x_auth_username:_username,x_auth_password:_pass,x_auth_passtype:_type}};j._$request(_message.r,{method:_message.m,headers:{Authorization:this.__getAuthHeader(_key,_message),"Content-Type":"application/x-www-form-urlencoded"},onload:this.__onAccessSucc._$bind(this,_key),onerror:this.__onAccessFail._$bind(this,_key)})};__proOAuth.__onRequestFail=function(_key){this.__callback(_key,"onfail",arguments[1]||{code:-10052,message:"请求TOKEN失败！"});this.__clear(_key);this.__delData(_key)};__proOAuth.__onRequestSucc=function(_key,_text){var _info=u._$query2object(_text);if(!_info.oauth_token||!_info.oauth_token_secret){this.__onRequestFail(_key,{code:-10053,message:"请求TOKEN返回数据不合法！"});return}var _data=this.__getData(_key);_data.t=_info.oauth_token;_data.s=_info.oauth_token_secret;var _message={p:{account:_data.u,password:_data.p,requestToken:_data.t},m:this.__method,r:this.__authorize_url};j._$request(_message.r,{type:"json",method:_message.m,data:__formatParam(_message.p),headers:{"Content-Type":"application/x-www-form-urlencoded"},onload:this.__onVerifierSucc._$bind(this,_key),onerror:this.__onVerifierFail._$bind(this,_key)})};__proOAuth.__onVerifierFail=function(_key){this.__callback(_key,"onfail",arguments[1]||{code:-10054,message:"验证TOKEN失败！"});this.__clear(_key);this.__delData(_key)};__proOAuth.__onVerifierSucc=function(_key,_json){if(!_json||!_json.oauth_verifier){this.__onVerifierFail(_key,{code:-10055,message:"验证TOKEN返回数据不合法！"});return}var _data=this.__getData(_key);_data.v=_json.oauth_verifier;var _message={m:this.__method,r:this.__access_token_url};j._$request(_message.r,{method:_message.m,headers:{Authorization:this.__getAuthHeader(_key,_message)},onload:this.__onAccessSucc._$bind(this,_key),onerror:this.__onAccessFail._$bind(this,_key)})};__proOAuth.__onAccessFail=function(_key){this.__callback(_key,"onfail",arguments[1]||{code:-10056,message:"请求ACCESS TOKEN失败！"});this.__clear(_key);this.__delData(_key)};__proOAuth.__onAccessSucc=function(_key,_text){var _info=u._$query2object(_text);if(!_info.oauth_token||!_info.oauth_token_secret){this.__onAccessFail(_key,{code:-10057,message:"请求ACCESS TOKEN返回数据不合法！"});return}var _data=this.__getData(_key);delete _data.v;_data.t=_info.oauth_token;_data.s=_info.oauth_token_secret;var _ckey=this.__id+"\n"+_key;this.__saveAuthInfo(_ckey,{t:_data.t,s:_data.s});this.__callback(_key,"onsucc",_ckey,_data.t);this.__clear(_key)};__proOAuth.__cancelAccexxToken=function(_key,_options){__cache[_key]=_options||o;var _tkey=_key.split("\n")[1],_message={m:this.__method,r:this.__cancel_token_url};j._$request(_message.r,{method:_message.m,headers:{Authorization:this.__getAuthHeader(_tkey,_message)},onload:this.__onCancelSucc._$bind(this,_key),onerror:this.__onCancelFail._$bind(this,_key)})};__proOAuth.__onCancelFail=function(_key){var _handler=__cache[_key].onfail||f;delete __cache[_key];try{_handler({code:-10058,message:"暂时无法取消验证标识，请稍候再试！"})}catch(e){}this.constructor._$recycle(this)};__proOAuth.__onCancelSucc=function(_key,_text){if(_text!="true"){this.__onCancelFail(_key);return}__setStorage(_key,null);this.__delData(_key.split("\n")[1]);var _handler=__cache[_key].onsucc||f;delete __cache[_key];try{_handler()}catch(e){}}})(MWF.O,MWF.R,MWF.F,MWF.P("mwf.u"),MWF.P("mwf.j"),MWF.P("mwf.ut"));(function(o,f,p){var __proConfiguration;p._$$Configuration=MWF.C();__proConfiguration=p._$$Configuration._$extend(p._$$Event,true);__proConfiguration.__init=function(_options){this.__super();var _redirect=this._$dispatchEvent._$bind(this,"onredirect");this.__vopt={onpass:this._$dispatchEvent._$bind(this,"onpass"),onredirect:_redirect};this.__mopt={onredirect:_redirect}};__proConfiguration.__reset=function(_options){_options=_options||o;this.__id=_options.id||"";this.__mopt.parent=_options.container;this._$addEvent("onpass",_options.onpass||f);this._$addEvent("onredirect",_options.onredirect||f)};__proConfiguration.__destroy=function(){this._$addEvent("onpass",f);this._$addEvent("onredirect",f);if(!!this.__module){this.__module=this.__module.constructor._$recycle(this.__module)}if(!!this.__validator){this.__validator=this.__validator.constructor._$recycle(this.__validator)}};__proConfiguration._$getValidator=function(){if(!this.__validator){this.__validator=this.__getValidator();if(!(this.__validator instanceof p._$$Validator)){delete this.__validator}}return this.__validator};__proConfiguration._$getModule=function(){if(!this.__module){this.__module=this.__getModule();if(!(this.__module instanceof p._$$Module)){delete this.__module}}return this.__module};__proConfiguration.__getValidator=function(){return p._$$Validator._$allocate(this.__vopt)};__proConfiguration.__getModule=f})(MWF.O,MWF.F,MWF.P("mwf.ut"));(function(o,f,e,p){var __proModule,__proModuleCP;p._$$Module=MWF.C();__proModule=p._$$Module._$extend(p._$$Event,true);__proModule.__init=function(_options){this.__super();this.__buildModule(_options);this._$addEvent("onbeforeexit",this.__onBeforeExit._$bind(this))};__proModule.__reset=function(_options){_options=_options||o;this.__parent=e._$get(_options.parent);this._$addEvent("onredirect",_options.onredirect||f)};__proModule.__destroy=function(){e._$removeByEC(this.__body);this._$addEvent("onredirect",f)};__proModule._$show=function(_options){_options=_options||o;this.__query=_options.__QUERY__||"";this.__referrer=_options.__REFER__||"";if(!this.__parent||!this.__body){return}this.__onBeforeShow(_options);if(this.__body.parentNode!=this.__parent){this.__parent.appendChild(this.__body)}if(this.__body.style.display=="none"){this.__body.style.display=""}this.__onAfterShow(_options)};__proModule._$hide=function(){this.__onBeforeHide();e._$removeByEC(this.__body);this.__onAfterHide()};__proModule._$query=function(){return this.__query};__proModule.__buildModule=f;__proModule.__onBeforeExit=function(_options){return true};__proModule.__onBeforeShow=f;__proModule.__onBeforeHide=f;__proModule.__onAfterShow=f;__proModule.__onAfterHide=f;p._$$ModuleCP=MWF.C();__proModuleCP=p._$$ModuleCP._$extend(p._$$Module,true);__proModuleCP._$show=function(_options){this.__manager._$dispatch(_options)};__proModuleCP._$hide=function(){this.__manager._$hide()};__proModuleCP._$query=function(){var _module=this.__manager._$getModule();return !_module?"":_module._$query()};__proModuleCP.__onBeforeExit=function(_options){var _module=this.__manager._$getModule();return !_module?true:_module._$dispatchEvent("onbeforeexit",_options)};__proModuleCP.__buildModule=function(_options){this.__mopt.parent=(_options||o).parent;this.__mopt.onredirect=this._$dispatchEvent._$bind(this,"onredirect");this.__manager=new (p._$$Manager)(this.__mopt)}})(MWF.O,MWF.F,MWF.P("mwf.e"),MWF.P("mwf.ut"));(function(o,f,p){var __proValidator;p._$$Validator=MWF.C();__proValidator=p._$$Validator._$extend(p._$$Event,true);__proValidator.__reset=function(_options){_options=_options||o;this._$addEvent("onpass",_options.onpass||f);this._$addEvent("onredirect",_options.onredirect||f)};__proValidator.__destroy=function(){this._$addEvent("onpass",f);this._$addEvent("onredirect",f)};__proValidator._$validate=function(_options){this._$dispatchEvent("onpass",_options)}})(MWF.O,MWF.F,MWF.P("mwf.ut"));(function(o,f,u,v,m,p){var __referrer,__proManager,__proHashManager;p._$$Manager=MWF.C();__proManager=p._$$Manager._$extend(p._$$Event,true);__proManager.__init=function(_options){this.__super();_options=_options||o;this.__mkey=_options.key||"m";this.__copt={container:_options.parent,onpass:this.__onModuleDispatch._$bind(this),onredirect:this._$dispatchEvent._$bind(this,"onredirect")};this._$addEvent("onerror",_options.onerror||f);this._$addEvent("onredirect",_options.onredirect||this._$redirect._$bind(this));this._$addEvent("onbeforechange",_options.onbeforechange||f);this._$addEvent("onafterdispatch",_options.onafterdispatch||f);this._$addEvent("onbeforedispatch",_options.onbeforedispatch||f);this.__checkConfig(_options.config)};__proManager.__query2obj=function(_query){_query=(_query||"").replace(/^#!?/,"");var _obj=u._$query2object(_query);_obj.__QUERY__=_query;return _obj};__proManager.__checkConfig=function(_config){this.__config={};_config=_config||o;for(var x in _config){this._$regist(x,_config[x])}};__proManager.__buildConfig=function(_mid){var _config=this.__config[_mid];if(_config instanceof p._$$Configuration){return}this.__copt.id=_mid;_config=_config._$allocate(this.__copt);delete this.__copt.id;if(!(_config instanceof p._$$Configuration)){delete this.__config[_mid];return}this.__config[_mid]=_config};__proManager.__getConfiguration=function(_mid){if(!this.__config[_mid]){this.__onModuleError(_mid,"找不到模块配置信息！");return}this.__buildConfig(_mid);var _config=this.__config[_mid];if(!_config){this.__onModuleError(_mid,"模块配置器不合法！");return}return _config};__proManager.__getValidator=function(_mid){var _config=this.__getConfiguration(_mid);if(!_config){return}var _validator=_config._$getValidator();if(!_validator){this.__onModuleError(_mid,"模块验证器不合法！");return}return _validator};__proManager.__getModule=function(_mid){var _config=this.__getConfiguration(_mid);if(!_config){return}var _module=_config._$getModule();if(!_module){this.__onModuleError(_mid,"模块对象不合法！");return}return _module};__proManager.__onModuleError=function(_mid,_message){delete this.__config[_mid];if(_mid==this.__mid){return}this._$dispatchEvent("onerror","[MID="+_mid+"]"+_message)};__proManager.__onModuleChange=function(_query){this._$dispatchEvent("onbeforechange",_query);this.__onModuleEnterValidate(this.__query2obj(_query))};__proManager.__onModuleExitValidate=function(_options){var _module=this.__getModule(this.__mid);return !!_module?_module._$dispatchEvent("onbeforeexit",_options):true};__proManager.__onModuleEnterValidate=function(_options){_options=_options||o;var _mid=_options[this.__mkey]||"",_validator=this.__getValidator(_mid);if(!!_validator){_validator._$validate(_options)}};__proManager.__onModuleDispatch=function(_options){_options=_options||{};var _mid=_options[this.__mkey],_module=this.__getModule(_mid);if(!_module){return}var _noevent=_module instanceof p._$$ModuleCP;if(!_noevent){this._$dispatchEvent("onbeforedispatch",_options)}if(_mid!=this.__mid){this._$hide()}_options.__REFER__=__referrer||"";this.__mid=_mid;_module._$show(_options);if(!_noevent){this._$dispatchEvent("onafterdispatch",_options)}};__proManager._$getModule=function(_mid){var _mcfg=this.__config[_mid||this.__mid];return !!_mcfg?_mcfg._$getModule():null};__proManager._$hide=function(){var _omdl=this._$getModule();if(!!_omdl){__referrer=_omdl._$query();this.__mid=-100000;_omdl._$hide()}};__proManager._$regist=function(_key,_config){if(_key==null||!_config){return}var _mcfg=this.__config[_key];if(_mcfg instanceof p._$$Configuration){_mcfg.constructor._$recycle(_mcfg)}this.__config[_key]=_config;if(this.__mid!=_key){return}this.__onModuleChange(this.__key+"="+_key)};__proManager._$redirect=function(_query){if(this.__onModuleExitValidate(this.__query2obj(_query))){this.__onModuleChange(_query)}};__proManager._$dispatch=function(_options){this.__onModuleEnterValidate(_options)};p._$$HashManager=MWF.C();__proHashManager=p._$$HashManager._$extend(p._$$Manager,true);__proHashManager.__init=function(_options){this.__super(_options);this.__history=[];_options=_options||o;this._$addEvent("onafterback",_options.onafterback||f);this._$addEvent("onbeforeback",_options.onbeforeback||f);window.setInterval(this.__checkHash._$bind(this),100)};__proHashManager.__needHistory=function(_hash){return true};__proHashManager.__checkHash=function(){if(this.__hash!=location.hash){this.__hash=location.hash;this.__onHashChange()}};__proHashManager.__onHashChange=function(){var _hash=location.hash;if(!this.__replaced){if(this.__needHistory(_hash)&&_hash!=this.__history[this.__history.length-1]){this.__history.push(_hash)}}else{this.__replaced=false}this.__onModuleChange(_hash)};__proHashManager._$pop=function(){return this.__history.pop()};__proHashManager._$back=function(_nativable){var _length=this.__history.length,_hash=this.__history[_length-1];if(_hash==location.hash){_hash=this.__history[_length-2]}var _event={hash:_hash,total:_length};this._$dispatchEvent("onbeforeback",_event);if(!!_event.stopped||_hash==null){return}this.__replaced=true;if(!this._$redirect(_hash,_nativable)){return}if(_hash!=this.__history[_length-1]){this.__history.pop()}this._$dispatchEvent("onafterback",_event)};__proHashManager._$redirect=function(_query,_nativable){_query=_query||"";if(this.__onModuleExitValidate(this.__query2obj(_query))){if(!_nativable||!m._$loadURL||!m._$loadURL('javascript:location.hash="'+_query+'"')){location.hash=_query}return true}return false}})(MWF.O,MWF.F,MWF.P("mwf.u"),MWF.P("mwf.v"),MWF.P("mwf.mb"),MWF.P("mwf.ut"));(function(o,f,e,u,t,p){var __proAbstract;p._$$Abstract=MWF.C();__proAbstract=p._$$Abstract._$extend(t._$$Event,true);__proAbstract._$appendTo=function(_parent){if(!this.__body){return}this.__delParentStyle();this.__parent=e._$get(_parent);if(!this.__parent){return}this.__addParentStyle();this.__parent.appendChild(this.__body)};__proAbstract._$show=function(){this._$appendTo(this.__parent)};__proAbstract._$hide=function(){e._$removeByEC(this.__body)};__proAbstract.__init=(function(){var _reg=/#<.*?>/g;var _gen=function(_style,_class){return(_style||"").replace(_reg,_class)};return function(){this.__super();var _class=this.constructor.__yyyyy;if(!_class){_class="ui-"+u._$randNumberString();this.constructor.__yyyyy=_class;e._$addStyle(_gen(this.__getStyle(),"."+_class))}this.__body=e._$create("div",_class);this.__body.innerHTML=this.__getXhtml()||"&nbsp;";this.__initNode()}})();__proAbstract.__reset=function(_options){_options=_options||o;this.__class=_options.style||"";e._$addClassName(this.__body,this.__class);this._$appendTo(_options.parent)};__proAbstract.__destroy=function(){this._$hide();this.__delParentStyle();delete this.__parent;e._$delClassName(this.__body,this.__class);delete this.__class};__proAbstract.__addParentStyle=function(){e._$addClassName(this.__parent,this.constructor.__yyyyy+"-parent")};__proAbstract.__delParentStyle=function(){e._$delClassName(this.__parent,this.constructor.__yyyyy+"-parent")};__proAbstract.__getStyle=f;__proAbstract.__getXhtml=f;__proAbstract.__initNode=f})(MWF.O,MWF.F,MWF.P("mwf.e"),MWF.P("mwf.u"),MWF.P("mwf.ut"),MWF.P("mwf.ui"));(function(o,f,pt,e,u,v,t,p){var __proScroll,__proScrollBar;p._$$Scroll=MWF.C();__proScroll=p._$$Scroll._$extend(t._$$Event);__proScroll.__init=function(_element,_config){this.__super();this.__bounces=false;this.__momentum=true;this.__horizontal=false;this.__vertical=true;this.__momentumResetTime=150;this.__transitionDuration=500;this.__deceleration=0.0018;this.__friction=0.5;this.__bounceFriction=0.55;this.__transitionEasing="cubic-bezier(0.4, .75, 0.5, .95)";this.__snapping=true;this.__snapY=0;this.__snapX=0;this.__scrollbars=true;var _scroller=this.__scroller=e._$get(_element);e._$addClassName(_scroller,"x-scroller");this.__parent=_scroller.parentNode;e._$addClassName(this.__parent,"x-scroller-parent");this.__offset={x:0,y:0};v._$addEvent(this.__parent,"touchstart",this.__onTouchStart._$bind(this));v._$addEvent(this.__parent,"touchend",this.__onTouchEnd._$bind(this));v._$addEvent(this.__parent,"scrollstart",this.__onScrollStart._$bind(this));v._$addEvent(this.__parent,"scrollend",this.__onScrollEnd._$bind(this));v._$addEvent(this.__parent,"scroll",this.__onScroll._$bind(this));if(this.__scrollbars&&this.__vertical){this.__scrollbarY=new (p._$$ScrollBar)(this,"vertical")}v._$addEvent(this.__scroller,"webkitTransitionEnd",this.__onTransitionEnd._$bind(this))};__proScroll.__onTouchStart=function(e){var _scroller=this.__scroller,_style=_scroller.style;if(pt.isAndroidOS){}if(e.event.touches.length>1){return}this.__followTouch=e.touch;if(this.__animating&&!this.__bouncing){this.__animating=false;_style.webkitTransitionDuration="0ms";if(this.__scrollbarY){this.__scrollbarY._$stop()}if(this.__scrollbarX){this.__scrollbarX._$stop()}var _transform=new WebKitCSSMatrix(window.getComputedStyle(_scroller).webkitTransform);_style.webkitTransform="translate3d("+_transform.m41+"px, "+_transform.m42+"px, 0)";this.__offset={x:_transform.m41,y:_transform.m42}}this.__updateBounds()};__proScroll.__onScrollStart=function(e){if(e.touch!=this.__followTouch){return}this.__momentum=this.__momentum?{}:false;if(this.__horizontal&&this.__momentum){this.__momentum.horizontal={startTime:e.time,startX:this.__offset.x}}if(this.__vertical&&this.__momentum){this.__momentum.vertical={startTime:e.time,startY:this.__offset.y}}};__proScroll.__onScroll=function(e,t){if(e.touch!=this.__followTouch){return}var _newX=this.__horizontal?(this.__offset.x+e.previousDeltaX):0,_newY=this.__vertical?(this.__offset.y+e.previousDeltaY):0,_pos;if(this.__bounces){if(this.__horizontal){if(_newX<this.__bounds.x){_newX=this.__offset.x+(e.previousDeltaX/2)}else{if(_newX>0){_newX=this.__offset.x+(e.previousDeltaX/2)}}}if(this.__vertical){if(_newY<this.__bounds.y){_newY=this.__offset.y+(e.previousDeltaY/2)}else{if(_newY>0){_newY=this.__offset.y+(e.previousDeltaY/2)}}}}_pos={x:Math.round(_newX),y:Math.round(_newY)};this._$scrollTo({x:_pos.x,y:_pos.y},false);var _hd=(e.previousDeltaX>0)?"right":"left",_vd=(e.previousDeltaY>0)?"down":"up";if(this.__horizontal&&this.__momentum&&this.__momentum.horizontal.direction!=_hd){if(this.__momentum.horizontal.direction){this.__momentum.horizontal={startTime:e.time,startX:_pos.x,direction:_hd}}else{this.__momentum.horizontal.direction=_hd}}if(this.__vertical&&this.__momentum&&this.__momentum.vertical.direction!=_vd){if(this.__momentum.vertical.direction){this.__momentum.vertical={startTime:e.time,startY:_pos.y,direction:_vd}}else{this.__momentum.vertical.direction=_vd}}};__proScroll.__onTouchEnd=function(e,t){if(e.touch!=this.__followTouch){return}};__proScroll.__onScrollEnd=function(e,t){if(e.touch!=this.__followTouch){return}if(this.__momentum){if(e.previousDeltaTime<=this.__momentumResetTime&&(Math.abs(e.previousDeltaY)>2||Math.abs(e.previousDeltaX)>2)){this.__startDeceleration(e)}else{this.__snapToBounds(false)}}if(!this.__animating){this.__snapToBounds(false)}if(!this.__animating){}};__proScroll._$scrollTo=function(_pos,_animate,_easing,_inBounds){_pos={x:Math.round(_pos.x),y:Math.round(_pos.y)};if(!this.__bounces||_inBounds){_pos=this.__constrainToBounds(_pos)}this.__offset=_pos;var _style=this.__scroller.style;if(_animate){this.__animating=true;_style.webkitTransitionTimingFunction=_easing||this.__transitionEasing;_style.webkitTransitionDuration=(typeof _animate=="number")?(_animate+"ms"):(this.__transitionDuration+"ms");_style.webkitTransform="translate3d("+_pos.x+"px, "+_pos.y+"px, 0)"}else{_style.webkitTransitionDuration="0ms";_style.webkitTransform="translate3d("+_pos.x+"px, "+_pos.y+"px, 0)"}if(this.__scrollbarX){this.__scrollbarX._$scrollTo(_pos,_animate,_easing||this.__transitionEasing)}if(this.__scrollbarY){this.__scrollbarY._$scrollTo(_pos,_animate,_easing||this.__transitionEasing)}};__proScroll.__onTransitionEnd=function(){if(this.__animating){this.__animating=false;this.__snapToBounds(350,this.__bounceEasing);if(!this.__animating){this.__bouncing=false}}};__proScroll.__updateBounds=function(){this.__parentSize={width:this.__parent.clientWidth,height:this.__parent.clientHeight};this.__contentSize={width:this.__scroller.scrollWidth,height:this.__scroller.scrollHeight};this.__size={width:Math.max(this.__contentSize.width,this.__parentSize.width),height:Math.max(this.__contentSize.height,this.__parentSize.height)};this.__bounds={x:this.__parentSize.width-this.__size.width,y:this.__parentSize.height-this.__size.height};if(this.__scrollbarX){this.__scrollbarX._$update()}if(this.__scrollbarY){this.__scrollbarY._$update()}};__proScroll.__snapToBounds=function(_animate,_easing){if(!this.__bounds){this.__updateBounds()}var _pos=this.__constrainToBounds(this.__offset);if(this.__snapping){if(this.__snapY){_pos.y=Math.round(_pos.y/this.__snapY)*this.__snapY}if(this.__snapX){_pos.x=Math.round(_pos.x/this.__snapX)*this.__snapX}}if(_pos.x!=this.__offset.x||_pos.y!=this.__offset.y){this._$scrollTo(_pos,_animate,_easing||this.__transitionEasing);this.__bouncing=true}};__proScroll.__constrainToBounds=function(_pos){if(!this.__bounds){this.__updateBounds()}return{x:Math.min(Math.max(this.__bounds.x,_pos.x),0),y:Math.min(Math.max(this.__bounds.y,_pos.y),0)}};__proScroll.__startDeceleration=function(e){var _momentum=this.__momentum,_offset=this.__offset,_bounds=this.__bounds,_directionY=e.previousDeltaY>0?1:-1,_directionX=e.previousDeltaX>0?1:-1,_offsetY=_offset.y,_offsetX=_offset.x,_boundsY=_bounds.y,_boundsX=_bounds.x,_distanceY=Math.abs(_offsetY-(this.__vertical&&_momentum.vertical&&_momentum.vertical.startY))||0,_distanceX=Math.abs(_offsetX-(this.__horizontal&&_momentum.horizontal&&_momentum.horizontal.startX))||0,_vertical=_distanceY>_distanceX,_time=e.time-Math.max((_momentum.vertical&&_momentum.vertical.startTime)||0,(_momentum.horizontal&&_momentum.horizontal.startTime)||0),_speedY=_distanceY/_time,_speedX=_distanceX/_time,_scrollX=0,_scrollY=0,_maxBounceY,_maxBounceX,_bounceY=false,_bounceX=false,_durationY=0,_durationX=0,_easing=this.__transitionEasing;if(_vertical){_scrollY=_speedY/this.__deceleration;_maxBounceY=this.__parent.clientHeight/4;if(_directionY<0){if(_offsetY<_boundsY){_scrollY=_maxBounceY*0.2*_speedY;_bounceY=_boundsY-_offsetY+_scrollY}else{if(_scrollY>_offsetY-_boundsY){_scrollY=Math.min(_offsetY-_boundsY+(this.__bounceFriction*this.__friction*_speedY*_maxBounceY),_offsetY-_boundsY+_maxBounceY);_bounceY=_offsetY-_boundsY+_scrollY}}}else{if(_directionY>0){if(_offsetY>0){_scrollY=_maxBounceY*0.2*_speedY;_bounceY=_offsetY+_scrollY}else{if(_scrollY>-_offsetY+_maxBounceY){_scrollY=Math.min(-_offsetY+(this.__bounceFriction*this.__friction*_speedY*_maxBounceY),-_offsetY+_maxBounceY);_bounceY=-_offsetY+_scrollY}}}}_durationY=_scrollY/((this.__friction*1.6)*_speedY);this.__bounceY=_bounceY;this.__durationYBeforeBounce=_durationY;this.__distanceYBeforeBounce=_scrollY;this.__speedYBeforeBounce=_speedY;_easing=this.__transitionEasing}else{_scrollX=_speedX/this.__deceleration;_maxBounceX=this.__parent.clientWidth/4;if(_directionX<0){if(_offsetX<_boundsX){_scrollX=_maxBounceX*0.2*_speedY;_bounceX=_boundsX-_offsetX+_scrollX}else{if(_scrollX>_offsetX-_boundsX){_scrollX=Math.min(_offsetY-_boundsX+(this.__bounceFriction*this.__friction*_speedX*_maxBounceX),_offsetX-_boundsX+_maxBounceX);_bounceX=_offsetX-_boundsX+_scrollX}}}else{if(_directionX>0){if(_offsetX>0){_scrollX=_maxBounceX*0.2*_speedX;_bounceX=_offsetX+_scrollX}else{if(_scrollX>-_offsetX+_maxBounceX){_scrollX=Math.min(-_offsetX+(this.__bounceFriction*this.__friction*_speedX*_maxBounceX),-_offsetX+_maxBounceX);_bounceX=-_offsetX+_scrollX}}}}_durationX=_scrollX/((this.__friction*1.6)*_speedX);this.__bounceX=_bounceX;this.__durationXBeforeBounce=_durationX;this.__distanceXBeforeBounce=_scrollX;this.__speedXBeforeBounce=_speedX;_easing=this.__transitionEasing}this._$scrollTo({x:_offsetX+(_directionX*Math.round(_scrollX)),y:_offsetY+(_directionY*Math.round(_scrollY))},Math.max(_durationX,_durationY),_easing)};p._$$ScrollBar=MWF.C();__proScrollBar=p._$$ScrollBar.prototype;__proScrollBar.__init=function(_scroller,_direction){this.__size=0;this.__maxSize=0;this.__maxScroll=0;this.__scrollbarOffset=4;this.__scroller=_scroller;this.__container=_scroller.__parent;this.__direction=_direction;this.__bar=e._$create("div","x-scrollbar x-scrollbar-"+_direction,this.__container);this._$hide()};__proScrollBar._$update=function(){var _scroller=this.__scroller,_contentSize=_scroller.__contentSize,_parentSize=_scroller.__parentSize,_size=_scroller.__size,_height,_width;if(this.__direction=="vertical"){if(_contentSize.height>_parentSize.height){_height=Math.round((_parentSize.height*_parentSize.height)/_size.height);this.__bar.style.height=_height+"px";this.__scrollMax=_parentSize.height-_height-(this.__scrollbarOffset*2);this.__autoShow=true}else{this.__autoShow=false}}else{if(_contentSize.width>_parentSize.width){_width=Math.round((_parentSize.width*_parentSize.width)/_size.width);this.__bar.setWidth(_width);this.__scrollMax=_parentSize.width-_width-(this.__scrollbarOffset*2);this.__autoShow=true}else{this.__autoShow=false}}};__proScrollBar._$scrollTo=function(_pos,_animate,_easing){var _scroller=this.__scroller,_style=this.__bar.style,_transform;if(!this.__autoShow){return}if(this.__hidden){this._$show()}if(this.__hideTimeout){clearTimeout(this.__hideTimeout)}this.__hideTimeout=setTimeout((function(){this._$hide();this.__hideTimeout=null})._$bind(this),800);_style.webkitTransitionTimingFunction=_easing||_scroller.transitionEasing;if(_animate){_style.webkitTransitionDuration=(typeof _animate=="number")?(_animate+"ms, 500ms"):(_scroller.transitionDuration+"ms, 500ms")}else{_style.webkitTransitionDuration="0ms, 500ms"}if(this.direction=="horizontal"){_transform=(this.scrollMax/_scroller.__bounds.x*_scroller.__offset.x)+this.__scrollbarOffset;_style.webkitTransform="translate3d("+_transform+"px, 0px, 0px)"}else{_transform=(this.__scrollMax/_scroller.__bounds.y*_scroller.__offset.y)+this.__scrollbarOffset;_style.webkitTransform="translate3d(0px, "+_transform+"px, 0px)"}};__proScrollBar._$hide=function(){this.__bar.style.opacity=0;this.__hidden=true};__proScrollBar._$show=function(){this.__bar.style.opacity=1;this.__hidden=false};__proScrollBar._$stop=function(){var _style=this.__bar.style,_transform;_style.webkitTransitionDuration="0ms";_transform=new WebKitCSSMatrix(window.getComputedStyle(this.__bar).webkitTransform);_style.webkitTransform="translate3d("+_transform.m41+"px, "+_transform.m42+"px, 0)"}})(MWF.O,MWF.F,MWF.P("mwf.p"),MWF.P("mwf.e"),MWF.P("mwf.u"),MWF.P("mwf.v"),MWF.P("mwf.ut"),MWF.P("mwf.ui"));(function(r,o,f,u,p){p._$exec=function(_command){var _space=window,_arr=_command.split(".");for(var i=_arr[0]=="window"?1:0,l=_arr.length-1;i<l;i++){_space=_space[_arr[i]]||o}var _handler=_space[_arr[_arr.length-1]];if(!_handler){return}return _handler.apply(_space,r.slice.call(arguments,1))};p._$hasCMD=function(_command){var _space=window,_arr=_command.split(".");for(var i=_arr[0]=="window"?1:0,l=_arr.length;i<l;i++){_space=_space[_arr[i]];if(!_space){return false}}return true}})(MWF.R,MWF.O,MWF.F,MWF.P("mwf.u"),MWF.P("mwf.mb"));(function(e,v,b,m){e._$mbhover=(function(){var __element;var __onTouchStart=function(_class,_filter,_event){if(!!__element){__onTouchEnd(_class)}var _element=v._$getElement(_event,_filter);__element=_element;e._$addClassName(_element,_class)};var __onTouchEnd=function(_class,_filter,_event){e._$delClassName(__element,_class);__element=null};return function(_element,_class){var _filter=arguments[2],_onend=__onTouchEnd._$bind(null,_class,_filter);v._$addEvent(_element,"touchend",_onend);v._$addEvent(_element,"tapcancel",_onend);v._$addEvent(_element,"touchstart",__onTouchStart._$bind(null,_class,_filter))}})();e._$mbfocus=(function(){var __onBlur=function(_event){v._$stop(_event);if(!!m._$hideSoftKeyBoard){m._$hideSoftKeyBoard()}};var __onFocus=function(){if(!!m._$showSoftKeyBoard){m._$showSoftKeyBoard()}};return function(_element){if(!b._$IS_ANDROID){return}_element=e._$get(_element);if(!_element){return}var _tag=_element.tagName.toLowerCase();if(_tag!="textarea"&&_tag!="input"){return}v._$addEvent(_element,"focusout",__onBlur);v._$addEvent(_element,"focus",__onFocus)}})()})(MWF.P("mwf.e"),MWF.P("mwf.v"),MWF.P("mwf.p"),MWF.P("mwf.mb"));(function(o,f,t,p){var __proGesture;p._$$Gesture=MWF.C();__proGesture=p._$$Gesture._$extend(t._$$Event,true);__proGesture.__init=function(_options){this.__super();this.__listeners={};this._$addEvent("ontouchstart",this.__onTouchStart._$bind(this));this._$addEvent("ontouchmove",this.__onTouchMove._$bind(this));this._$addEvent("ontouchend",this.__onTouchEnd._$bind(this));this._$addEvent("ontouchcancel",this.__onTouchCancel._$bind(this))};__proGesture.__hasTarget=function(_element,_type){var _map=this.__listeners[_type];if(!_map){return false}var _list=_map[_element.id];return !!_list&&_list.length>0};__proGesture.__getListenerList=function(_element,_type){var _map=this.__listeners[_type];if(!_map){return null}var _list=_map[_element.id];return !_list||!_list.length?null:_list};__proGesture._$addEventListener=function(_element,_type,_event,_capture){var _id=_element.id,_map=this.__listeners[_type];if(!_map){_map={};this.__listeners[_type]=_map}var _list=_map[_id];if(!_list){_list=[];_map[_id]=_list}_list.push({f:_event,c:!!_capture})};__proGesture._$removeEventListener=function(_element,_type,_event,_capture){var _list=this.__getListenerList(_element,_type);if(!!_list){for(var i=_list.length-1,_item;i>=0;i--){_item=_list[i];if(_item.f==_event&&_item.c==!!_capture){_list.splice(i,1)}}}};__proGesture.__fire=function(_type){this.__fireEvents(this.__targets,_type,this.__event,this.__touch)};__proGesture.__fireEvent=function(_element,_type,_event,_touch,_capture){var _list=this.__getListenerList(_element,_type);if(!_list){return}_capture=!!_capture;for(var i=0,l=_list.length,_item;i<l;i++){_item=_list[i];if(_item.c==_capture){try{_item.f(_event,_touch)}catch(e){}}}};__proGesture.__fireEvents=function(_targets,_type,_event,_touch){if(!_targets||!_targets.length){return}var _btarget=[];for(var i=0,l=_targets.length,_element;i<l;i++){_element=_targets[i];if(this.__hasTarget(_element,_type)){_btarget.push(_element);this.__fireEvent(_element,_type,_event,_touch,true)}}if(!_btarget.length){return}for(var i=_btarget.length-1,_element;i>=0;i--){this.__fireEvent(_btarget[i],_type,_event,_touch,false)}};__proGesture.__resetEventInfo=function(_options){_options=_options||o;this.__event=_options.e;this.__touch=this.__event.changedTouches?this.__event.changedTouches[0]:this.__event;this.__targets=_options.t};__proGesture.__onTouchCancel=function(_options){this.__onTouchEnd(_options)};__proGesture.__onTouchStart=function(_options){this.__resetEventInfo(_options)};__proGesture.__onTouchMove=function(_options){this.__resetEventInfo(_options)};__proGesture.__onTouchEnd=function(_options){this.__resetEventInfo(_options)};__proGesture._$getSupportedEvent=f})(MWF.O,MWF.F,MWF.P("mwf.ut"),MWF.P("mwf.mb"));(function(v,t,p){var __proTap,__supTap;p._$$Tap=MWF.C();__proTap=p._$$Tap._$extend(p._$$Gesture,true);__supTap=p._$$Tap._$supro;__proTap.__init=function(_options){this.__super(_options);this.__cancel_distance=10;this.__double_interval=650;this.__hold_interval=1000};__proTap.__isCancel=function(){this.__cancel=(Math.abs(this.__touch.pageX-this.__pointerX)>=this.__cancel_distance)||(Math.abs(this.__touch.pageY-this.__pointerY)>=this.__cancel_distance);return this.__cancel};__proTap.__onTouchStart=function(_options){__supTap.__onTouchStart.apply(this,arguments);this.__cancel=false;this.__pointerX=this.__touch.pageX;this.__pointerY=this.__touch.pageY;this.__timer=window.setTimeout(this.__onTapHold._$bind(this),this.__hold_interval);this.__fire("tapstart")};__proTap.__onTouchMove=function(_options){if(this.__cancel==true){return}__supTap.__onTouchMove.apply(this,arguments);if(!this.__isCancel()){return}this.__timer=window.clearTimeout(this.__timer);this.__fire("tapcancel")};__proTap.__onTouchEnd=function(_options){__supTap.__onTouchEnd.apply(this,arguments);this.__timer=window.clearTimeout(this.__timer);if(this.__cancel){return}this.__fire("tap");var _time=new Date().getTime();if(!this.__taptime){this.__taptime=_time;return}if((_time-this.__taptime)<=this.__double_interval){this.__fire("doubletap")}this.__taptime=null};__proTap.__onTouchCancel=function(_options){this.__resetEventInfo(_options);this.__cancel=true;this.__fire("tapcancel")};__proTap.__onTapHold=function(){this.__cancel=true;this.__timer=window.clearTimeout(this.__timer);this.__fire("taphold")};__proTap._$getSupportedEvent=function(){return["tapstart","tap","doubletap","taphold","tapcancel"]};t._$$TouchEventHelper._$getInstance()._$regist("tap",p._$$Tap)})(MWF.P("mwf.v"),MWF.P("mwf.ut"),MWF.P("mwf.mb"));(function(t,p){var __proTouch,__supTouch;p._$$Touch=MWF.C();__proTouch=p._$$Touch._$extend(p._$$Gesture,true);__supTouch=p._$$Touch._$supro;__proTouch.__init=function(_options){this.__super(_options);this.__interval=500};__proTouch.__onTouchStart=function(_options){__supTouch.__onTouchStart.apply(this,arguments);this.__timer=window.setInterval(this.__onTouchDown._$bind(this),this.__interval)};__proTouch.__onTouchEnd=function(_options){__supTouch.__onTouchEnd.apply(this,arguments);this.__timer=window.clearInterval(this.__timer)};__proTouch.__onTouchDown=function(){this.__fire("touchdown")};__proTouch._$getSupportedEvent=function(){return["touchdown"]};t._$$TouchEventHelper._$getInstance()._$regist("touch",p._$$Touch)})(MWF.P("mwf.ut"),MWF.P("mwf.mb"));(function(o,f,u,p){var __cache={};p._$exec=function(_command,_options){var _arr=(_command||"").split(".");if(_arr.length!=2){return}_options=_options||o;var _key=u._$randNumberString();__cache[_key]={onerror:_options.onerror||f,oncallback:_options.oncallback||f};var _result=PluginManager.exec(_arr[0],_arr[1],_key,JSON.stringify(_options.param||[]),true);if(!_result){return}var _args=(new Function("return "+_result))()||o;_args.status>1?p.callbackError(_key,_args):p.callbackSuccess(_key,_args)};p.callbackSuccess=function(_cid,_args){var _cache=__cache[_cid];if(!_cache){return}_args=_args||o;if(_args.status==null){return}if(_args.status==1){try{_cache.oncallback(_args.message)}catch(e){alert(e.message||e)}}if(!_args.keepCallback){delete __cache[_cid]}};p.callbackError=function(_cid,_args){var _cache=__cache[_cid];if(!_cache){return}try{_cache.onerror((_args||o).message)}catch(e){}if(!_args.keepCallback){delete __cache[_cid]}}})(MWF.O,MWF.F,MWF.P("mwf.u"),MWF.P("window.PhoneGap"));(function(x,u,p){p._$hideSoftKeyBoard=function(){p._$exec("NUtils.hideSoftKeyboard")};p._$showSoftKeyBoard=function(){p._$exec("NUtils.toggleSoftKeyboard")};p._$getIpAddress=function(){return p._$exec("NUtils.getLocalIpAddress")};p._$getMacAddress=function(){return p._$exec("NUtils.getLocalMacAddress")};p._$isOnline=function(){return p._$exec("NUtils.isNetworkAvailable")};p._$doLoadFinish=function(){p._$exec("NUtils.onLoadFinish")};p._$doExit=function(){p._$exec("NUtils.Exit")};p._$loadURL=function(_url){if(!p._$hasCMD("NUtils.loadUrl")){return false}p._$exec("NUtils.loadUrl",_url||"");return true};p._$onButtonBack=function(_onback){MWF.P("window.keyEvent").backTrigger=_onback||f;MWF.P("document.keyEvent").backTrigger=_onback||f;p._$exec("BackButton.override")};u.PopUpMenu=function(_title,_strJSON){NDialog.PopUpMenu(_title,_strJSON)};u.PopUpDialog=function(_title,_description,_optionTexts,_callback){x.callback=_callback;var _strJSON='[{"title":"'+_optionTexts[0]+'","action":"window.x.util.callback(\'true\')"}			      	,{"title":"'+_optionTexts[1]+'","action":"window.x.util.callback(\'false\')"}]';NDialog.PopUpDialog(_title,_description,_strJSON)};u.showToast=function(_content,_duration){NDialog.showToast(_content,_duration)};u.SetLoginState=function(_state){if(!!window.NMenu){NMenu.SetLoginState(_state)}};u.SetCustomTitle=function(_strJSON){if(!!window.NDialog){NDialog.SetCustomTitle(_strJSON)}};u.closeKeyBoard=function(){NUtils.hideSoftKeyboard()};u.isOnline=function(){return NUtils.isNetworkAvailable()}})(MWF.P("x.util"),MWF.P("mwf.u"),MWF.P("mwf.mb"));(function(f,u,t,p){p.open=function(_options){};p.select=function(_onselect){t.onselect=_onselect||f;NPreferences.SelectPicture("window.x.file.onselect")};p.thumb=function(_file,_onthumb){t.onthumb=_onthumb||f;NUtils.ThumbnailJPEG(_file,"window.x.file.onthumb")};t.onthumb=f;p.upload=function(_url,_file,_options){_options=_options||o;var _key=u._$randNumberString();t["cb_"+_key]={onload:_options.onload||f,onerror:_options.onerror||f,onprogress:_options.onprogress||f,oncallback:t.onupload._$bind(t,_key)};UploadMan.SetUploadBarTitleInfo(_options.pgtitle||"网易博客",_options.pgdesc||"正在上传文件...",_options.pgsucc||"上传成功",_options.pgfail||"上传出现错误");UploadMan[_file.indexOf("content://")>=0?"Upload":"UploadByFilePath"](_key,_url,_file,JSON.stringify({finish:_options.finish||null,headers:_options.headers||null}),"window.x.file.cb_"+_key+".oncallback");mwf.u.showToast(_options.tipcnt||"",_options.tiptime||3000)};t.onupload=(function(){var _name=["","onprogress","onload","onerror"];return function(_key,_state){_state=parseInt(_state)||0;if(!_state){return}var _cache=t["cb_"+_key];if(!_cache){return}var _callback=_cache[_name[_state]];if(!_callback){return}try{switch(_state){case 1:return;case 2:_callback(arguments[4]);break;case 3:_callback();break}}catch(e){alert(e.message)}delete t["cb_"+_key]}})()})(MWF.F,MWF.P("mwf.u"),MWF.P("x.file"),MWF.P("navigator.file"));(function(f,u,x,t,p){if(!!p.WebSocket){return}var __proWebSocket;p.WebSocket=MWF.C();__proWebSocket=p.WebSocket.prototype;__proWebSocket.__init=function(_url){this.onopen=f;this.onclose=f;this.onmessage=f;this.__key=u._$randNumberString();t["cb_"+this.__key]={onopen:this.__onOpen._$bind(this),onclose:this.__onClose._$bind(this),onmessage:this.__onMessage._$bind(this)};var _package="window.x.socket.cb_"+this.__key;if(!!x.RegisterOnOpenCB){x.RegisterOnOpenCB(this.__key,_package+".onopen")}if(!!x.RegisterOnCloseCB){x.RegisterOnCloseCB(this.__key,_package+".onclose")}if(!!x.RegisterOnMessageCB){x.RegisterOnMessageCB(this.__key,_package+".onmessage")}window.setTimeout(this.__open._$bind(this,_url),0)};__proWebSocket.send=function(_data){return !!x.Send&&x.Send(this.__key,_data)||false};__proWebSocket.close=function(){if(!x.Close){return}x.RegisterOnCloseCB(this.__key,"");x.Close(this.__key);delete t["cb_"+this.__key]};__proWebSocket.__open=function(_url){!x.Connet||x.Connet(this.__key,_url)};__proWebSocket.__onOpen=function(){this.onopen()};__proWebSocket.__onClose=function(){this.onclose()};__proWebSocket.__onMessage=function(_data){this.onmessage({data:decodeURIComponent(_data)})}})(MWF.F,MWF.P("mwf.u"),MWF.P("MSocket"),MWF.P("x.socket"),window);(function(o,f,p){p.getImage=function(_options){_options=_options||o;var _arr=[parseInt(_options.quality)||80],_value=_options.type;_arr.push(_value!=null?_value:1);_arr.push(1);PhoneGap._$exec("Camera.takePicture",{param:_arr,onerror:_options.onerror||f,oncallback:_options.onsuccess||f})};p.getVideo=function(_options){};p.getAudio=function(_options){}})(MWF.O,MWF.F,MWF.P("navigator.capture"));(function(j,p){j._$setDataInPreference=function(_key,_value){p._$exec("NPreferences.putSettingItem",_key,_value)};j._$getDataInPreference=function(_key){return p._$exec("NPreferences.getSettingItem",_key)};j._$delDataInPreference=function(_key){return p._$exec("NPreferences.delSettingItem",_key)}})(MWF.P("mwf.j"),MWF.P("mwf.mb"));(function(o,f,p){var __cache={};p.getCurrentPosition=function(_options){_options=_options||o;if(!!__cache.gp){try{(_options.onerror||f)({code:3,message:"Geolocation Error: Still waiting for previous getCurrentPosition() request."})}catch(e){}return}__cache.gp={onerror:_options.onerror||f,onsuccess:_options.onsuccess||f};PhoneGap._$exec("Geolocation.getCurrentLocation",{param:[!!_options.accuracy,_options.timeout||10000,_options.expire||10000]})};navigator._geo={success:function(_id,_lat,_lng,_alt,_altacc,_head,_vel,_stamp){if(!__cache.gp){return}if(_lat==null||_lng==null){this.fail(_id,2,"Lat/Lng are undefined.");return}try{__cache.gp.onsuccess({timestamp:_stamp,coords:{latitude:_lat,longitude:_lng,altitude:_alt,accuracy:_altacc,altitudeAccuracy:null,heading:_head,speed:_vel}})}catch(e){}delete __cache.gp},fail:function(_id,_code,_message){if(!__cache.gp){return}try{__cache.gp.onerror({code:_code,message:_message})}catch(e){}delete __cache.gp}}})(MWF.O,MWF.F,MWF.P("navigator.geo"));(function(o,f,x,p){p.alert=function(_message,_options){_options=_options||o;PhoneGap._$exec("Notification.alert",{param:[_message||"",_options.title||"Alert",_options.label||"OK"],oncallback:_options.onbutton||f})};p.confirm=function(_message,_options){_options=_options||o;PhoneGap._$exec("Notification.confirm",{param:[_message||"",_options.title||"Confirm",_options.label||"OK,Cancel"],oncallback:_options.onbutton||f})};p.beep=function(_count){PhoneGap._$exec("Notification.beep",{param:[_count]})};p.ring=function(_uri){NNotification.ToneNotify(_uri)};p.notify=function(_options){_options=_options||o;NNotification.ShowNotification(1,_options.ticker||"",_options.title||"",_options.message||"",!_options.manual)};p.vibrate=function(_milliseconds){PhoneGap._$exec("Notification.vibrate",{param:[_milliseconds]})};p.ringtone=function(_uri,_callback){x.onselect=_callback||f;NPreferences.ChoiceRingtone(_uri,"window.x.notify.onselect")};p.cancel=function(){NNotification.CancelNotification()}})(MWF.O,MWF.F,MWF.P("x.notify"),MWF.P("navigator.notification"));